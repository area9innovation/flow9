import material/extra/raymarching/raymarching;

main() {
	setRendererType("html");

	spheres1 = RMTranslate(
		RMUnion(
			RMColor(RMTranslate(RMSphere(1.), RMY(1.)), 0xFFFF00),
			RMTranslate(
				RMUnion(
					RMColor(RMTranslate(RMSphere(0.5), RMX(2.)), 0xFF00FF),
					RMColor(RMTranslate(RMSphere(0.5), RMX(-2.)), 0x00FFFF)
				),
				RMYZ(2., 2.)
			)
		),
		RMZ(3.)
	);

	spheres2 = RMUnion(
		RMColor(RMSphere(0.5), 0x00FF00),
		RMUnion(
			RMColor(RMTranslate(RMSphere(0.5), RMX(2.)), 0x0000FF),
			RMColor(RMTranslate(RMSphere(0.5), RMX(-2.)), 0xFF0000)
		),
	);

	//scene = RMTranslate(RMUnion(spheres1, spheres2), RMZ(3.));
	scene = RMUnion(
		RMTranslate(RMUnion(spheres1, spheres2), RMZ(3.)),
		RMColor(RMPlane(RMXYZ(0., 1., 0.), 0.), 0xBBBBBB)
	);

	light = RMPlus(
		RMPlus(
			RMTranslate(RMColor(RMLight(0.03), 0x00AAAA), RMXYZ(-2., 8., 3.)),
			RMTranslate(RMColor(RMLight(0.05), 0xAA00AA), RMXYZ(0., 8., 6.))
		),
		RMTranslate(RMColor(RMLight(0.07), 0xAAAA00), RMXYZ(2., 8., 3.))
	);
	//light = RMTranslate(RMColor(RMLight(), 0xFFFFFF), RMYZ(2., 9.));
	
	camera = RMCamera(RMXYZ(6., 8., 6.), RMXYZ(0., 0., 6.));

	mrender(makeMaterialManager([]), true, MRaymarching(scene, light, camera));
}
