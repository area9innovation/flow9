import ds/array;
import runtime;
import string;

doFoo(array : [?], arrayLen : int, offset : int, start : ??, fn:(??, ?) -> ??) -> ?? {
    if(offset == arrayLen){
        start;
    }else{
        doFoo(array, arrayLen, offset+1, fn(start, array[offset]), fn);
    }
}

foo(array : [?], start : ??, fn:(??, ?) -> ??) -> ?? {
    doFoo(array, length(array), 0, start, fn);
}

main() {
    println(foo(["1", "2", "3", "4"], 0, \a, b -> a + strlen(b)));
} 