import tools/flowc/backends/common;

export {
	fiGetNimRuntime(cfg : FiNimConfig) -> string;
	fiAssembleNimFile(cfg : FiNimConfig, content : List<string>) -> void;
}

fiGetNimRuntime(cfg : FiNimConfig) -> string {
	// Use include, not import to avoid exporting issues.
	"#include tools/flowc/backends/nim/runtime.nim" + "\n\n" +
	"{.push warning[SmallLshouldNotBeUsed]:off.}\n";
}

fiAssembleNimFile(cfg : FiNimConfig, content : List<string>) -> void {
	saveFileContent(cfg.outputfile, list2string(content), cfg.threadId);
}
