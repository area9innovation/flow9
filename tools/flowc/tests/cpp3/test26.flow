import string;

FcBackendConfig ::= C1, C2, C3;

	C1(a: int); 
	C2(b: string);
	C3(d: bool);

FcBackendConfigs(
	c1: Maybe<C1>,
	c2: Maybe<C2>,
	c3: Maybe<C3>,
);

fcBackendConfigs2array(configs : FcBackendConfigs) -> [FcBackendConfig] {
	extract = \field : Maybe<FcBackendConfig> -> {
		switch (field) {
			None(): [];
			Some(f): [f];
		}
	}
	concatA([
		extract(configs.c1),
		extract(configs.c2),
		extract(configs.c3),
	]);
}


main() {
	confs = FcBackendConfigs(None(), Some(C2("AAA")), Some(C3(true)));
	println(fcBackendConfigs2array(confs));
	quit(0);
}