import expect;

native test5_0 : (int) -> ((string, string, int) -> void) = host_w.test5_0;
native test5_1 : (int) -> ((string, ((string) -> string)) -> void) = host_w.test5_1;
native test5_2 : (cb: (str : string) -> string) -> void = host_w.test5_2;
native test5_3 : (cb1: (cb2: (str : string) -> void) -> void) -> void = host_w.test5_3;
native test5_4 : (cb1: (d : double) -> void, dbl : double) -> void = host_w.test5_4;
native test5_5 : (cb1: (string) -> ((string) -> void)) -> void = host_w.test5_5;

test_5() {
	f2 = \str -> {
		prints(str);
	};

	f = \str -> { 
		prints(str);
		f2;
	};

	test5_5(f);
}

test_0() {
	f = test5_0(1);
	f("test", "5fd_0", 98);
}


test_1() {
	f = test5_1(1);
	f("test5_1", \s -> s + " again test5_1");
}


test_2() {
	test5_2(\s -> { 
		s + "test5_2"
	});
}

test_3() {
	f = \s -> { 
		s("test5_3");
	};

	test5_3(f);
}

test_4() {
	f = \dbl -> { 
		expect2(0, 2.2 == dbl);
	};

	test5_4(f, 1.7);
}

main() {
	test_0();
	test_1();
	test_2();
	test_3();
	test_4();
	test_5();

	expectFinish();
}
