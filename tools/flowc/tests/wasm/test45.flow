import expect;
import runtime;

g3f : ref flow = ref 123;
g3i : ref int = ref flow(123);

test1() {
	expect2(1, ^g3f == 123);
}

test2() {
	g3f := "123";
	expect2(2, ^g3f == "123");
}

test3(x : ref flow) {
	expect2(3, ^x == 123);
}

test4(x : ref int) {
	expect2(4, ^x == 123);
}

main() {
	test1();
	test2();
	test3(ref 123);
	test4(ref flow(123));
}
