native println : io (?) -> void = Native.println;

fn1(start : int, acc : int) -> int {
	if (start == 1000) {
		acc
	} else {
		fn1(start + 1, acc + start)
	}
}

fn2(end : int, acc : int) -> void {
	println("fn2");
	if (acc < 0 || acc > 10) {
		println(end);
	} else {
		println(acc);
		fn2(end, acc + 1)
	}
}

// from array.flow
foldRange(start : int, end : int, acc : ?, fn : (?, int) -> ?) -> ? {
	if (start <= end) {
		foldRange(start + 1, end, fn(acc, start), fn)
	} else {
		acc;
	}
}

main() -> void {
	println("result tail");
	println(fn1(900, 0));
	println("void tail");
	fn2(-1, 0);
	println("foldRange");
	println(foldRange(1, 5, 0, \v, i -> v + i));
}