native println2 : io (flow) -> void = Native.println;
native extractStruct : (a : [?], e : ??) -> ?? = Native.extractStruct;

Struct1(i : int);
Struct2();

Union1 ::= Struct1, Struct2;

// ------------------------------------------------------------------------------------------
foo1() -> void {
	[Struct2(), Struct1(10)];
	{}
}
// ------------------------------------------------------------------------------------------
foo2() -> void {
	v = Struct2();
	arr = [v, Struct1(10)];
	v;
	{}
}
// ------------------------------------------------------------------------------------------
foo3() -> void {
	v = Struct2();
	arr = [v, Struct1(10)];
	{}
}
// ------------------------------------------------------------------------------------------
foo4() -> void {
	v = Struct2();
	arr = [v, Struct1(10)];
	arr;
	{}
}
// ------------------------------------------------------------------------------------------
foo5() -> void {
	v = Struct2();
	arr = [v, Struct1(10), v];
	{}
}
// ------------------------------------------------------------------------------------------
foo6() -> void {
	a = extractStruct([Struct1(10), Struct2()], Struct1(20));
	{}
}
// ------------------------------------------------------------------------------------------
makeVal() -> Union1 {Struct2();}
foo7() -> void {
	v = Struct2();
	arr = [v, makeVal()];
	v;
	{}
}
// ------------------------------------------------------------------------------------------
foo8() -> void {
	a = [1, 2, 3];
	s = a[1] + a[0];
	b : [int] = [];
}
// ------------------------------------------------------------------------------------------

// ------------------------------------------------------------------------------------------
main() {
	foo1();
	foo2();
	foo3();
	foo4();
	foo5();
	foo6();
	foo7();
	foo8();
	{}
}
