import string;

export {
	matchDslSpecification(language : string, specification : string) -> bool;

	resultDslTransformation(language : string, specification : string) -> string;
}

matchDslSpecification(language : string, specification : string) -> bool {
	spec = strReplace(specification, "|", "");
	endsWith(language, spec);
}

// Calculate the effect of this specification to this language
// See dsl_transformation.flow for a description of these specs
// and their effects
resultDslTransformation(language : string, specification : string) -> string {
	spec = strReplace(specification, "|", "");
	if (endsWith(language, spec)) {
		// OK, it matches
		// Introduce the cut point
		cut = strReplace(language, spec, specification);
		takeBefore(cut, "|", cut)
	} else language;
}
