import tools/dsl/languages/lambda;
import tools/dsl/languages/gringo;
import tools/dsl/languages/ast_syntax;
import tools/dsl/languages/structs;
import tools/dsl/languages/datafun;
import tools/dsl/languages/dot;
import tools/dsl/languages/tuples;
import tools/dsl/languages/records;
import tools/dsl/languages/arrays;
import tools/dsl/languages/default_args;
import tools/dsl/languages/named_args;
import tools/dsl/languages/while;
import tools/dsl/languages/assign_opers;

import tools/dsl/dsl2flow;
import tools/dsl/dsl_api;

import tools/dsl/gringo_actions;

main() {
	lambda = defineLambda();
	dot = defineDot(lambda);
	tuples = defineTuples(dot);
	records = defineRecords(tuples);
	structs = defineStructs(records);
	arrays = defineArrays(structs);
	datafun = defineDataFun(arrays);
	assignops = defineAssignOperators(datafun);
	res = runDsl("assign-opers-test", assignops, <<	
		x = 3; 
		println("x = " + x);
		x += 1;
		println("x +=1: " + x);
		x -= 2;
		println("x -=2: " + x);
		x *= 3;
		println("x *=3: " + x);
		x /= 2;
		println("x /=2: " + x);
		x %= 2;
		println("x %=2: " + x);
		x;
	>>);
	println("ASSIGN-OPERS-TEST:");
	println(prettyDsl(res));
	println("Done");
	quit(0);
}
