import ds/tree;
import string;
import math/math;

export {
	svgName2color(name : string, defaultReturn : int) -> int;
}

svgName2color(name : string, defaultReturn : int) -> int {
	if (startsWith(name, "#")) {
		parseHex(strRight(name, 1))
	} else if (isDigits(name)) {
		s2i(name);
	} else {
		lookupTreeDef(svgColorNames, name, defaultReturn)
	}
}

// SVG 1.1 color names
svgColorNames : Tree<string, int> = pairs2tree([
		Pair("aliceblue", 0xF0F8FF),
		Pair("antiquewhite", 0xFAEBD7),
		Pair("aqua", 0xFFFF),
		Pair("aquamarine", 0x7FFFD4),
		Pair("azure", 0xF0FFFF),
		Pair("beige", 0xF5F5DC),
		Pair("bisque", 0xFFE4C4),
		Pair("black", 0x0),
		Pair("blanchedalmond", 0xFFEBCD),
		Pair("blue", 0xFF),
		Pair("blueviolet", 0x8A2BE2),
		Pair("brown", 0xA52A2A),
		Pair("burlywood", 0xDEB887),
		Pair("cadetblue", 0x5F9EA0),
		Pair("chartreuse", 0x7FFF00),
		Pair("chocolate", 0xD2691E),
		Pair("coral", 0xFF7F50),
		Pair("cornflowerblue", 0x6495ED),
		Pair("cornsilk", 0xFFF8DC),
		Pair("crimson", 0xDC143C),
		Pair("cyan", 0xFFFF),
		Pair("darkblue", 0x8B),
		Pair("darkcyan", 0x8B8B),
		Pair("darkgoldenrod", 0xB8860B),
		Pair("darkgray", 0xA9A9A9),
		Pair("darkgreen", 0x6400),
		Pair("darkgrey", 0xA9A9A9),
		Pair("darkkhaki", 0xBDB76B),
		Pair("darkmagenta", 0x8B008B),
		Pair("darkolivegreen", 0x556B2F),
		Pair("darkorange", 0xFF8C00),
		Pair("darkorchid", 0x9932CC),
		Pair("darkred", 0x8B0000),
		Pair("darksalmon", 0xE9967A),
		Pair("darkseagreen", 0x8FBC8F),
		Pair("darkslateblue", 0x483D8B),
		Pair("darkslategray", 0x2F4F4F),
		Pair("darkslategrey", 0x2F4F4F),
		Pair("darkturquoise", 0xCED1),
		Pair("darkviolet", 0x9400D3),
		Pair("deeppink", 0xFF1493),
		Pair("deepskyblue", 0xBFFF),
		Pair("dimgray", 0x696969),
		Pair("dimgrey", 0x696969),
		Pair("dodgerblue", 0x1E90FF),
		Pair("firebrick", 0xB22222),
		Pair("floralwhite", 0xFFFAF0),
		Pair("forestgreen", 0x228B22),
		Pair("fuchsia", 0xFF00FF),
		Pair("gainsboro", 0xDCDCDC),
		Pair("ghostwhite", 0xF8F8FF),
		Pair("gold", 0xFFD700),
		Pair("goldenrod", 0xDAA520),
		Pair("gray", 0x808080),
		Pair("grey", 0x808080),
		Pair("green", 0x8000),
		Pair("greenyellow", 0xADFF2F),
		Pair("honeydew", 0xF0FFF0),
		Pair("hotpink", 0xFF69B4),
		Pair("indianred", 0xCD5C5C),
		Pair("indigo", 0x4B0082),
		Pair("ivory", 0xFFFFF0),
		Pair("khaki", 0xF0E68C),
		Pair("lavender", 0xE6E6FA),
		Pair("lavenderblush", 0xFFF0F5),
		Pair("lawngreen", 0x7CFC00),
		Pair("lemonchiffon", 0xFFFACD),
		Pair("lightblue", 0xADD8E6),
		Pair("lightcoral", 0xF08080),
		Pair("lightcyan", 0xE0FFFF),
		Pair("lightgoldenrodyellow", 0xFAFAD2),
		Pair("lightgray", 0xD3D3D3),
		Pair("lightgreen", 0x90EE90),
		Pair("lightgrey", 0xD3D3D3),
		Pair("lightpink", 0xFFB6C1),
		Pair("lightsalmon", 0xFFA07A),
		Pair("lightseagreen", 0x20B2AA),
		Pair("lightskyblue", 0x87CEFA),
		Pair("lightslategray", 0x778899),
		Pair("lightslategrey", 0x778899),
		Pair("lightsteelblue", 0xB0C4DE),
		Pair("lightyellow", 0xFFFFE0),
		Pair("lime", 0xFF00),
		Pair("limegreen", 0x32CD32),
		Pair("linen", 0xFAF0E6),
		Pair("magenta", 0xFF00FF),
		Pair("maroon", 0x800000),
		Pair("mediumaquamarine", 0x66CDAA),
		Pair("mediumblue", 0xCD),
		Pair("mediumorchid", 0xBA55D3),
		Pair("mediumpurple", 0x9370DB),
		Pair("mediumseagreen", 0x3CB371),
		Pair("mediumslateblue", 0x7B68EE),
		Pair("mediumspringgreen", 0xFA9A),
		Pair("mediumturquoise", 0x48D1CC),
		Pair("mediumvioletred", 0xC71585),
		Pair("midnightblue", 0x191970),
		Pair("mintcream", 0xF5FFFA),
		Pair("mistyrose", 0xFFE4E1),
		Pair("moccasin", 0xFFE4B5),
		Pair("navajowhite", 0xFFDEAD),
		Pair("navy", 0x80),
		Pair("oldlace", 0xFDF5E6),
		Pair("olive", 0x808000),
		Pair("olivedrab", 0x6B8E23),
		Pair("orange", 0xFFA500),
		Pair("orangered", 0xFF4500),
		Pair("orchid", 0xDA70D6),
		Pair("palegoldenrod", 0xEEE8AA),
		Pair("palegreen", 0x98FB98),
		Pair("paleturquoise", 0xAFEEEE),
		Pair("palevioletred", 0xDB7093),
		Pair("papayawhip", 0xFFEFD5),
		Pair("peachpuff", 0xFFDAB9),
		Pair("peru", 0xCD853F),
		Pair("pink", 0xFFC0CB),
		Pair("plum", 0xDDA0DD),
		Pair("powderblue", 0xB0E0E6),
		Pair("purple", 0x800080),
		Pair("red", 0xFF0000),
		Pair("rosybrown", 0xBC8F8F),
		Pair("royalblue", 0x4169E1),
		Pair("saddlebrown", 0x8B4513),
		Pair("salmon", 0xFA8072),
		Pair("sandybrown", 0xF4A460),
		Pair("seagreen", 0x2E8B57),
		Pair("seashell", 0xFFF5EE),
		Pair("sienna", 0xA0522D),
		Pair("silver", 0xC0C0C0),
		Pair("skyblue", 0x87CEEB),
		Pair("slateblue", 0x6A5ACD),
		Pair("slategray", 0x708090),
		Pair("slategrey", 0x708090),
		Pair("snow", 0xFFFAFA),
		Pair("springgreen", 0xFF7F),
		Pair("steelblue", 0x4682B4),
		Pair("tan", 0xD2B48C),
		Pair("teal", 0x8080),
		Pair("thistle", 0xD8BFD8),
		Pair("tomato", 0xFF6347),
		Pair("turquoise", 0x40E0D0),
		Pair("violet", 0xEE82EE),
		Pair("wheat", 0xF5DEB3),
		Pair("white", 0xFFFFFF),
		Pair("whitesmoke", 0xF5F5F5),
		Pair("yellow", 0xFFFF00),
		Pair("yellowgreen", 0x9ACD32)
	]);
