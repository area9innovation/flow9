import fusion;
import material/material_color;
import material/extra/docking_ui/internal/material_docking_styles;


export{
	// MDockingUI theme

	// Inactive color without panels
	areaBgColorLight : MColor = MCustomColor(0xe8e8e8);
	areaBgColorDark : MColor = MCustomColor(0x151515);

	// areaBgColorLight : MColor = MOrange(200);
	// areaBgColorDark : MColor = MPurple(300);

	// Panel's background
	panelBgColorLight : MColor = MCustomColor(0xf5f5f5);
	panelBgColorDark : MColor = MCustomColor(0x212121);
	// panelBgColorLight : MColor = MGrey(100);
	// panelBgColorDark : MColor = MGrey(900);

	// Panel's toolbar
	barColorLight : MColor = MCustomColor(0xeeeeee);
	barColorDark : MColor = MCustomColor(0x191919);
	// barColorLight : MColor = panelBgColorLight;   
	// barColorDark : MColor = panelBgColorDark;
	// barColorLight : MColor = areaBgColorLight;
	// barColorDark : MColor = areaBgColorDark;
	textColorLight : MColor = MGrey(950);
	textColorDark : MColor = MWhite();



	// Resize bars
	// separatorColorLight : MColor = MCustomColor(0xe8e8e8);   // original
	// separatorColorDark : MColor = MCustomColor(0x151515);	// original

	separatorColorLight : MColor = MGreen(600);
	separatorColorDark : MColor = MRed(600);

	// separatorColorInactiveLight : MColor = MGreen(100);
	// separatorColorInactiveDark : MColor = MBlue(900);


	// separatorColorLight : MColor = panelBgColorLight;
	// separatorColorDark : MColor = panelBgColorDark;
	// separatorColorLight : MColor = areaBgColorLight;
	// separatorColorDark : MColor = areaBgColorDark;

	separatorColorInactiveLight : MColor = separatorColorLight;
	separatorColorInactiveDark : MColor = separatorColorDark;





	sideExpanderBgColorLight : MColor = panelBgColorLight;
	sideExpanderBgColorDark : MColor = panelBgColorDark;

		// sideExpanderBgColorLight : MColor = separatorColorLight;
	// sideExpanderBgColorDark : MColor = separatorColorDark;

	sideExpanderHoverColorLight : MColor = MCustomColor(0xf9f9f9);
	sideExpanderHoverColorDark : MColor = MCustomColor(0x252525);

	mobileHandleColorLight : MColor = MGrey(600);
	mobileHandleColorDark : MColor = MGrey(800);

	bgHandleColorLight : MColor = MGrey(50);
	bgHandleColorDark : MColor = MBlack();

	smallHandleColorLight : MColor = MGrey(700);
	resizeHandleColorDark : MColor = MGrey(200);

	dockingPrimaryColor : MColor = MBlue(500);

	// Drag
	dockingDragSize = 4.0; // 5.0;
	dockingDragSizeInactive = dockingDragSize;
	dockingHelperDragSize = dockingDragSize * 4.0;
	dockingHelperDragOpacity = 0.1; // 0.0
	// Drop
	dockingDropSize = 14.0;
	dockingHelperDropSize = dockingDragSize * 8.0;
	dockingHelperDropOpacity = 0.1; // 0.0

	dockingDropLineColor : MColor = MBlue(500);
	dockingDropLineHoverColor : MColor = MOrange(400);
	dockingDropLineHoverOpacity = 1.0;
	// dockingDropLineOpacity = 0.2; //0.2

	dockingItemHeight = 48.0;
	dockingBarHeight = 36.0;
	dockingHandleH = 14.0;
	dockingHandleW = 1.0;
	dockingSideCollapsedSize = 36.0;
	// dockingRadius = 2.0;
	dockingRadius = 8.0; //////////////////////////////////REMOVE AFTER TEST
	dockingDragHandleOpacity = 1.0;
	dockingCollapsedSeparatorH = 0.0; // not visible
	// dockingCollapsedSeparatorH = dockingDragSize;
	dockingMobileOpacity = 0.7;
	sideExpanderButtonSize = 14.0;

	dockingToolbarIconSize = 22.0;
	dockingTopBarIconSize = 18.0;

	areaBgColorFn(light : bool, style : [MDockingStyle]) -> MColor;
	panelBgColorFn(light : bool, style : [MDockingStyle]) -> MColor;
	mobileHandleColorFn(light : bool, style : [MDockingStyle]) -> MColor;
	smallHandleColorFn(light : bool, style : [MDockingStyle]) -> MColor;
	separatorColorFn(light : bool, style : [MDockingStyle])  -> MColor;
	separatorColorInactiveFn(light : bool, style : [MDockingStyle])  -> MColor;
	sideExpanderBgColorFn(light : bool, style : [MDockingStyle]) -> MColor;
	sideExpanderHoverColorFn(light : bool, style : [MDockingStyle]) -> MColor;
	dockedTitleColorFn(light : bool, style : [MDockingStyle]) -> MColor;
}

themeMode(light : bool, style : [MDockingStyle]) -> bool {
	if (contains(style, MDockingForceDarkTheme())) false 
		else if (contains(style, MDockingForceLightTheme())) true 
			else light;
}

areaBgColorFn(light : bool, style : [MDockingStyle]) -> MColor {
	bgStyle = extractStruct(style, MDockingBackground(areaBgColorLight, areaBgColorDark));
	if (themeMode(light, style)) bgStyle.lightColor else bgStyle.darkColor;
}

panelBgColorFn(light : bool, style : [MDockingStyle]) -> MColor {
	if (themeMode(light, style)) panelBgColorLight else panelBgColorDark;
}

separatorColorFn(light : bool, style : [MDockingStyle])  -> MColor {
	if (themeMode(light, style)) separatorColorLight else separatorColorDark;
}

separatorColorInactiveFn(light : bool, style : [MDockingStyle])  -> MColor {
	if (themeMode(light, style)) separatorColorInactiveLight else separatorColorInactiveDark;
}

smallHandleColorFn(light : bool, style : [MDockingStyle]) -> MColor {
 	if (themeMode(light, style)) smallHandleColorLight else resizeHandleColorDark;
}

mobileHandleColorFn(light : bool, style : [MDockingStyle]) -> MColor {
 	if (themeMode(light, style)) mobileHandleColorLight else mobileHandleColorDark;
}

sideExpanderBgColorFn(light : bool, style : [MDockingStyle]) -> MColor {
 	if (themeMode(light, style)) sideExpanderBgColorLight else sideExpanderBgColorDark;
}

sideExpanderHoverColorFn(light : bool, style : [MDockingStyle]) -> MColor {
 	if (themeMode(light, style)) sideExpanderHoverColorLight else sideExpanderHoverColorDark;
}

dockedTitleColorFn(light : bool, style : [MDockingStyle]) -> MColor {
 	if (themeMode(light, style)) textColorLight else textColorDark;
}