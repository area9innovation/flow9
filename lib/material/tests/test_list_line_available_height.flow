import material/material2tropic;

main() {
	manager = makeMaterialManager([]);
	setRendererType("html");

	makeCustomLine = \ -> {
		MCustomLine(
			TRectangle([Fill(floor(random() * i2d(0xffffff)))], TFillXY()), [
				// MHeight(100.),
				MHeight(-1.),
				MPrimaryAction(MIcon("android", [])),
				MSecondaryAction(MIcon("add", []))
			]
		)
	}

	makeSingleLine = \ -> {
		MSingleLine(
			"Line", [
				// MHeight(100.),
				// MHeight(-1.),
				MPrimaryAction(MIcon("android", [])),
				MSecondaryAction(MIcon("add", []))
			]
		)
	}

	makeList = \useAvailableHeight -> {
		MList(
			generate(0, 10, \__ -> {
				makeCustomLine()
				// makeSingleLine()
			}),
			if (useAvailableHeight) [MListUseAvailableHeight()] else [],
			[]
		);
	}

	mat = MCols2(
		MLines2(
			MText("With MListUseAvailableHeight()", []),
			makeList(true)
		),
		MLines2(
			MText("Without MListUseAvailableHeight()", []),
			makeList(false)
		)
	);

	mrender(manager, false, mat)
}