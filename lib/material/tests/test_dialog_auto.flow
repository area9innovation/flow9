import material/material2tropic;
import material/material_dialog;

main() {
	manager = makeMaterialManager([]);

	text = make("");

	MTextButton(
		"DIALOG",
		\ -> {
			close = make(false);
			dialogContent = 
				MAutoComplete(text, generate(0, 10, \i -> "content" + i2s(i)), [], [])
				|> (\m -> MCols2(m, MRealHTML("<p>smth</p>", const(WidthHeight(100., 100.)), [])))
				;

			dialogStyle = [
				MDialogTitle("TITLE"),
				MDialogUseFrame(),
				MDialogCloseButton(
					MIconButton("clear", \ -> nextDistinct(close, true), [MIconButtonBorder(1.)], [])
				),
				// MDialogScroll(),
				// MDialogScrollStyle([
				// 	MScrollbars(materialScrollBar, customScrollBar)
				// ]),
				MDialogActions([
					MTextButton(_("CLOSE DIALOG"), \ -> nextDistinct(close, true), [MRed(500)], []),
				]),
				// MDialogNonModal(),
				// MSameZorder(false),

				// MDialogDraggable(TEmpty(), TFillXY())
			];
			ShowMDialog(manager, close, dialogStyle, dialogContent)
		},
		[MButtonRaised()],
		[]
	)
	|> (\m -> MLines2(
			m,
			MAutoComplete(make("smth"), generate(0, 10, \i -> "content" + i2s(i)), [], [])
		))

	|> (\f -> mrender(manager, true, f))
}