import material/material_ui;

main() {
	manager = makeMaterialManager([]);

	d =	makeDrawFrameEventListener();

	// d.attach();

	m =
		MCols([
			TForm(
				maskImage(
					Picture("/flow/images/coachspeak/pause_orange.png", []),
					black
				)
			),
			TMaskImage(
				TPicture("/flow/images/coachspeak/play_orange.png", []),
				black
			),
			TMaskImage(
				TBorder4(20.0, TPicture("/flow/images/coachspeak/close/close_normal.png", [])),
				red
			),
			MSelect(d.timer, \__ ->
				MBorder4(20.0,
					MScale(
						const(Factor(1.5, 1.5)),
						TMaskImage(
							TBorder4(20.0, TPicture("/flow/images/coachspeak/close/close_normal.png", [])),
							red
						)
					)
				)
			)
		]);

	timer(1000, \ -> mrender(manager, true, m) |> ignore);
}

TMaskImage(content : Tropic, color : int) -> Tropic {
	wh = makeWH();

	TMask(
		TRectangle([Fill(black)], TSized(wh)),
		TInspect([ISize(wh)], content)
	)
}