import material/material2tropic;

main() {
	manager = makeMaterialManager([]);

	expander = make(false);
	bottomExpanded = make(true);
	// timer(2000, \ -> reverseBehaviour(bottomExpanded));

	scrollInspect = makeTScrollInspectVisible();

	bottomNav =
		MBottomNav([
				MBottomNavAction("android", "Android", [MOnClick(\ -> println("android"))]),
				MBottomNavAction("close", "Close", [MOnClick(\ -> println("close"))]),
				MBottomNavAction("menu", "Menu", [MOnClick(\ -> println("menu")), MIconCounter(const(8), [])]),
				MBottomNavAction("add", "Add", [MOnClick(\ -> println("add"))]),
			],
			[
				MFill(MPurple(600)),
				FillOpacity(0.5),
				// MShowAllLabels(),
				// scrollInspect,
				MActiveIconColor(MWhite())
			],
			make(-1),
			bottomExpanded
		);

	content =
		MLines([
			MCols([
				MText("CONTENT", []),
				TFillX(),
				MText("RIGHT SIDE", [])
			]),
			TRectangle([GradientFill(90.0, [GradientPoint(blue, 1.0, 0.0), GradientPoint(yellow, 1.0, 1.0),])], TFixed(100., 1000.)),
			TRectangle([MFill(MBlack())], TFixed(20., 20.))
		])
		// |> (\m -> MGroup2(m, bottomNav))
		;

	toolbar = MToolbar(
		expander,
		MText("TEXT", []),
		[],
		[]
	);

	app = MAppStructure([
			MContent(content),
			MAppBar(toolbar),
			MBottomSheet(\__ -> bottomNav, [MSwipeEnabled(const(false))])
		], [
			MNoContentBorder(),
			scrollInspect,
			// MAppStructureFlexible([]),
			// MNoScroll()
		]);
	
	mrender(manager, true, app);
}