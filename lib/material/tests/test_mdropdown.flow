import material/material2tropic;

main() {
	setRendererType("html");
	manager = makeMaterialManager([]);

	nearTitle = true;

	style = if (nearTitle) [/*MDropDownMenuCropByContent(), MSeparators(false),*/ MMenuOpenDelay(100), MLabel("version"), MOutlined(), /*MOutlineOpacity(0.),*/ MOutlineColor(MPurple(400))] else [];

	menu =
		MMenu(
			MIconButton("menu", nop, [], []),
			[
				// MMenuSingleLine("iteeeeeeem 1", [MSecondaryAction(MIcon("android", []))]),
				// MMenuSingleLine("item 2", [MSecondaryAction(MIcon("android", []))]),
				// MMenuSingleLine("iteeeeeeeeeeeeeeem 3", [MSecondaryAction(MIcon("android", []))]),
				MMenuSingleLine("iteeeeeeem 1", []),
				MMenuSingleLine("item 2", []),
				MMenuSingleLine("iteeeeeeeeeeeeeeem 3", []),
				MMenuCustomLine(MText("Item 4", []), []),
				// MSubMenu("Sub menu", [], [MCustomTextStyle([MCustomFont(20., "RobotoMedium", 1.)])])
			],
			[/*MSingleSelection(make(-1))*/MMenuOpenDelay(100)]
		);

	dropDownMenu = 
		MDropDownMenu(
			[
				MMenuSingleLine("iteeeeeeem 1", [MSecondaryAction(MIcon("android", []))]),
				MMenuSingleLine("item 2", [MSecondaryAction(MIcon("android", []))]),
				MMenuSingleLine("iteeeeeeeeeeeeeeem 3", [MSecondaryAction(MIcon("android", []))]),
			],
			make(-1),
			style
		);

	dropDown = 
		MDropDown(make(-1), "select", ["iteeeeeeem 1", "item 2", "iteeeeeeeeeeeeeeem 3"], concat(style, [MDropDownItemsEnabled([
			const(true),
			const(false)
		])]));

	multiDropDown =
		MMultiSelectDropDown(make([]), ["iteeeeeeem 1", "item 2", "iteeeeeeeeeeeeeeem 3"], []);

	content =
		// [menu, dropDownMenu, dropDown, multiDropDown]
		// dropDownMenu
		// multiDropDown
		dropDown
		// menu
		// |> (\arr -> map(arr, \m -> MCenterX(m)))
		// |> MCols
		// |> (\m -> MTooltip(
		// 		m,
		// 		// MText(addReadOnlySuffix(attribute.description, attribute), []),
		// 		MText("Tooltip text", []),
		// 		[MTooltipAlignment(MRight()), MLightBackground(false)]
		// 	))
		// |> MBorderStart(8.0)
		|> MCenterY;

	mrender(manager, true, content);
}