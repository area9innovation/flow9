import lib/material/material_ui;
import material/material_dialog;

main() {
	manager = makeMaterialManager([]);
	setRendererType("html");

	fullscreenB = make(false);
	closeB = make(false);

	dialogFrame = MDialogCustomFrame(0.0, 0.0, 0.0, 0.0, MBackground(6, TFillXY()));
	dialogClose = \bh -> MDialogActions([MTextButton(_("CLOSE"), \-> nextDistinct(bh, true), [], [])]);

	showDialog = \-> {
		next(closeB, false);
		ShowMDialog(
			manager,
			closeB,
			[
				dialogFrame,
				dialogClose(closeB)
			],
			MFullScreenNoReattachments(fullscreenB,
				MCols([
					MIconButton("help", \-> {
						close1B = make(false);
						ShowMDialog(manager, close1B,
							[
								dialogFrame,
								dialogClose(close1B)
							],
							MText("Hello", [])
						)
					}, [], []),
					MIf(fullscreenB,
						MIconButton(
							"fullscreen_exit",
							\ -> {
								nextDistinct(fullscreenB, false);
							},
							[],
							[MTooltipText(const(_("Exit Fullscreen")))]
						),
						MIconButton(
							"fullscreen",
							\ -> {
								nextDistinct(fullscreenB, true);
							},
							[],
							[MTooltipText(const(_("Fullscreen")))]
						)
					),
					MIconButton(
						"exit_to_app",
						\ -> {
							nextDistinct(fullscreenB, false);
							nextDistinct(closeB, true);
						},
						[],
						[MTooltipText(const(_("Exit Presentation")))]
					)
				])
			)
		);
	}

	content = MCenter(MIconButton("home", showDialog, [], []));

	mrender(manager, true, content)
}