import material/material2tropic;

main() {
	manager = makeMaterialManager([]);

	scrollContent = make(TFillXH(300.));

	timer(5000, \ -> {
		println("new content");
		next(scrollContent, TFixed(200., 300.))
	});

	content1 =
		MScroll(
			// TFixed(200., 300.)
			TMutable(scrollContent)
			|> addTBackground(MGreen(200)),
			TFixed(200., 200.),
			[
				// TScrollbarOverlapContent(),
			]
		)
		|> MDebugPurple
		|> (\m -> MGroup2(m, TFrame(0., 0., [MStroke(MRed(500))], TFixed(200., 200.))));

	content2 =
		MScroll(
			MList(
				generate(0, 10, \i -> MSingleLine("content", [MSecondaryAction(MIcon("star", []))])),
				[],
				[]
			),
			TFillWY(200.),
			[
				// TScrollbarDoNotOverlapContent()
			]
		)
		|> MDebugPurple
		|> (\m -> MGroup2(m, TFrame(0., 0., [MStroke(MRed(500))], TFixed(200., 200.))));
	
	mrender(manager, true, content1);
}