import material/material2tropic;
import material/material_ui;
import material/material_graphics;

main() {
	manager = makeMaterialManager([]);
	setRendererType("html");

	showLoading = make(true);
	fpprint("-------------showLoading---------")(showLoading);

	editors = [
		TRectangle([MFill(MBlue(200)), FillOpacity(0.5)], TFixed(305., 48.)),

		TRectangle([MFill(MGreen(200)), FillOpacity(0.5)], TFixed(120., 120.)),

		MLinesA([
			MParagraph(_("External Service Key requires an approval. Add approval contacts from the project members list."), []),
			TSizedHeight(120., fif(showLoading, const(120.), const(0.)))
		])
		|> MDebugBlue
		|> (\m -> MConstruct([\ -> {
			timer(3000, \ -> nextDistinct(showLoading, false));
			nop
		}], m)),

		TRectangle([MFill(MYellow(200)), FillOpacity(0.5)], TFixed(300., 84.)),

		TRectangle([MFill(MPurple(200)), FillOpacity(0.5)], TFillXYXY(16., 140., 484., 140.))
	];

	content =
		MAvailable(
			MFlex(
				const(editors),
				[
					TVertical(),
					TPreventOverflow()
				]
			),
			TFixed(1078., 268.)
		);

	mrender(manager, true, content);
}