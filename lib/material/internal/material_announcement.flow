import material/material;
export {
	// Accessibility helpers for screen readers using ARIA live regions.
	// makeAnnouncementBlock creates an invisible block that announces changes to screen readers.
	// announceEvent triggers a temporary announcement that screen readers will read aloud.
	// Intended for announcing text without moving focus, use MTemporarilyFocused otherwise

	makeAnnouncementBlock(manager : MaterialManager) -> Tropic {
		TAlpha(make(0.), TAccess(
			[FAccessAttribute("aria-live", const("polite"))],
			TDynamicText(manager.announcement, [])
		));
	}

	announceEvent(manager : MaterialManager, announcement : string) -> void {
		nextDistinct(manager.announcement, announcement);
		timer(100, \ -> nextDistinct(manager.announcement, ""));
	}
}