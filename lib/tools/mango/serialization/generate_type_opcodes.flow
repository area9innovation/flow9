import tools/mango/type/generate_opcodes;
import tools/mango/type/types;

export {
	// Generates a Flow file with opcode definitions for each struct in the AST
	generateTypeOpcodes(outputFile : string, types : [MType], typePrefix : string, baseOpcode : int) -> void;

	// Core opcode base values
	BUILTIN_OPCODE_BASE : int; // 0-99 reserved for builtins
	STRUCT_OPCODE_BASE : int;  // 100+ for structs and unions
}

BUILTIN_OPCODE_BASE = 0;
STRUCT_OPCODE_BASE = 100;

// Generate opcode definitions for all types
generateTypeOpcodes(outputFile : string, types : [MType], typePrefix : string, baseOpcode : int) -> void {
	// Delegate to the existing opcode generator
	generateOpcodes(outputFile, types, typePrefix, baseOpcode);
}