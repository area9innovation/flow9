import tools/mango/mango_types;

export {
	typesGrammar() -> Term;
}

typesGrammar() -> Term {
	Rule("ws", Star(Variable("s")), Rule("word", Sequence(Negate(String("overload")), Sequence(PushMatch(Sequence(Negate(Choice(String(";"), Choice(String("("), Choice(String(")"), Choice(String("["), Choice(String("]"), Choice(String("\""), Choice(Range("0", "9"), Choice(String(":"), Choice(String(","), String("?"))))))))))), Sequence(Range("!", "0xffff"), Star(Sequence(Negate(Choice(String(";"), Choice(String("("), Choice(String(")"), Choice(String("["), Choice(String("]"), Choice(String("\""), Choice(String(":"), Choice(String(","), Choice(String("?"), String("<"))))))))))), Range("!", "0xffff")))))), Variable("ws"))), Rule("uid", Sequence(PushMatch(Sequence(Range("A", "Z"), Star(Variable("alnum")))), Variable("ws")), Rule("typename", Sequence(Variable("word"), Sequence(Variable("typars"), Construct("CoreTypename", "2"))), Rule("typedefs", Sequence(StackOp("nil"), Sequence(Optional(Sequence(Variable("typedef"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(";"), Sequence(Variable("ws"), Sequence(Variable("typedef"), StackOp("cons"))))), Optional(Sequence(String(";"), Variable("ws"))))))), Sequence(StackOp("list2array"), Construct("CoreTypeDefs", "1")))), Rule("typedef", Choice(Sequence(Variable("typename"), Sequence(String("::="), Sequence(Variable("ws"), Sequence(StackOp("nil"), Sequence(Optional(Sequence(Variable("struct"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(","), Sequence(Variable("ws"), Sequence(Variable("struct"), StackOp("cons"))))), Optional(Sequence(String(","), Variable("ws"))))))), Sequence(StackOp("list2array"), Construct("CoreUnionDefBody", "2"))))))), Choice(Sequence(Variable("uid"), Sequence(String(":"), Sequence(Variable("ws"), Sequence(String("("), Sequence(Variable("ws"), Sequence(StackOp("nil"), Sequence(Optional(Sequence(Variable("structarg"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(","), Sequence(Variable("ws"), Sequence(Variable("structarg"), StackOp("cons"))))), Optional(Sequence(String(","), Variable("ws"))))))), Sequence(StackOp("list2array"), Sequence(String(")"), Sequence(Variable("ws"), Construct("CoreStructDefBody", "2"))))))))))), Sequence(Variable("word"), Sequence(String(":"), Sequence(Variable("ws"), Sequence(Variable("type"), Construct("CoreVarDef", "2"))))))), Rule("type", Sequence(Variable("type1"), Optional(Sequence(String("->"), Sequence(Variable("ws"), Sequence(Variable("type1"), Construct("CoreFnType", "2")))))), Rule("type1", Choice(Sequence(String("("), Sequence(Variable("ws"), Sequence(StackOp("nil"), Sequence(Optional(Sequence(Variable("type"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(","), Sequence(Variable("ws"), Sequence(Variable("type"), StackOp("cons"))))), Optional(Sequence(String(","), Variable("ws"))))))), Sequence(StackOp("list2array"), Sequence(String(")"), Sequence(Variable("ws"), Construct("CoreTupleType", "1")))))))), Choice(Sequence(String("overload"), Sequence(Variable("ws"), Sequence(String("("), Sequence(Variable("ws"), Sequence(StackOp("nil"), Sequence(Optional(Sequence(Variable("type"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(","), Sequence(Variable("ws"), Sequence(Variable("type"), StackOp("cons"))))), Optional(Sequence(String(","), Variable("ws"))))))), Sequence(StackOp("list2array"), Sequence(String(")"), Sequence(Variable("ws"), Construct("CoreOverloadType", "1")))))))))), Choice(Sequence(Variable("word"), Sequence(String(":"), Sequence(Variable("ws"), Sequence(Variable("type"), Construct("CoreIdType", "2"))))), Choice(Variable("typename"), Choice(Sequence(String("["), Sequence(Variable("ws"), Sequence(Variable("type"), Sequence(String("]"), Sequence(Variable("ws"), Construct("CoreArrayType", "1")))))), Choice(Sequence(PushMatch(Plus(String("?"))), Sequence(Variable("ws"), Construct("CorePolyType", "1"))), Variable("switch_grammar"))))))), Rule("typars", Sequence(StackOp("nil"), Sequence(Optional(Sequence(String("<"), Sequence(Variable("ws"), Sequence(Variable("type"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(","), Sequence(Variable("ws"), Sequence(Variable("type"), StackOp("cons"))))), Sequence(String(">"), Variable("ws")))))))), StackOp("list2array"))), Rule("switch_grammar", Sequence(String("@"), Sequence(PushMatch(Plus(Variable("alnum"))), StackOp("switch"))), Rule("structarg", Sequence(Variable("id"), Sequence(String(":"), Sequence(Variable("ws"), Sequence(Variable("type"), Construct("CoreStructArg", "2"))))), Rule("struct", Sequence(Variable("uid"), Sequence(Variable("ws"), Sequence(String("("), Sequence(Variable("ws"), Sequence(StackOp("nil"), Sequence(Optional(Sequence(Variable("structarg"), Sequence(StackOp("cons"), Sequence(Star(Sequence(String(","), Sequence(Variable("ws"), Sequence(Variable("structarg"), StackOp("cons"))))), Optional(Sequence(String(","), Variable("ws"))))))), Sequence(StackOp("list2array"), Sequence(String(")"), Sequence(Variable("ws"), Construct("CoreStructDef", "2")))))))))), Rule("string", Sequence(PushMatch(Sequence(String("\""), Sequence(Star(Variable("onechar")), String("\"")))), Variable("ws")), Rule("signed_int", Sequence(Optional(String("-")), Variable("int")), Rule("s", Plus(Variable("cs")), Rule("onechar", Choice(Sequence(String("\\"), Choice(Sequence(String("u"), Sequence(Variable("hexdigit"), Sequence(Variable("hexdigit"), Sequence(Variable("hexdigit"), Variable("hexdigit"))))), Choice(Sequence(String("x"), Sequence(Variable("hexdigit"), Variable("hexdigit"))), Choice(String("\\"), Choice(String("\""), Choice(String("n"), Choice(String("t"), String("r")))))))), Sequence(Negate(String("\"")), Sequence(Negate(String("\\")), Variable("anychar")))), Rule("kwsep", Sequence(Negate(Variable("alnum")), Variable("ws")), Rule("int", Plus(Range("0", "9")), Rule("id", Sequence(PushMatch(Variable("bid")), Variable("ws")), Rule("hexdigit", Choice(Range("0", "9"), Choice(Range("a", "f"), Range("A", "F"))), Rule("exponent", Sequence(Choice(String("E"), String("e")), Sequence(Optional(Choice(String("+"), String("-"))), Variable("int"))), Rule("double", Choice(Sequence(Variable("signed_int"), Sequence(String("."), Sequence(Optional(Variable("int")), Optional(Variable("exponent"))))), Choice(Sequence(String("."), Sequence(Variable("int"), Optional(Variable("exponent")))), Sequence(Variable("signed_int"), Variable("exponent")))), Rule("cs", Choice(String(" "), Choice(String("\\t"), Choice(String("\\n"), Choice(Sequence(String("//"), Sequence(Star(Sequence(Negate(String("\\n")), Variable("anychar"))), String("\\n"))), Choice(Sequence(String("/*"), Sequence(Star(Sequence(Negate(String("*/")), Variable("anychar"))), String("*/"))), String("\\r")))))), Rule("bid", Sequence(Choice(Range("a", "z"), String("_")), Star(Variable("alnum"))), Rule("anychar", Range("0x0000", "0xffff"), Rule("alnum", Choice(Range("a", "z"), Choice(Range("A", "Z"), Choice(String("_"), Range("0", "9")))), Sequence(Variable("ws"), Variable("typedefs"))))))))))))))))))))))))))));
}
