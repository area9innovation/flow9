import ds/tree;

export {
	// Core data structures for the orbit e-graph
	ONode(
		domain: ODomain,    // The domain this node belongs to
		op: string,        // Operator or function name
		children: [int]  // References to child eclasses
	);

	OClass(
		root: int,         // Index of the canonical representation
		node: ONode,  
	);

	OGraph(
		oclasses : ref Tree<int, OClass>,  // Map from id to eclass
		classes : ref Tree<int, int>,  // Map from id to eclass
		next_id : ref int,  // Counter for generating new class IDs
		
		// Maps for primitive types
		int_values : ref Tree<int, int>,      // Map from eclass id to int value 
		double_values : ref Tree<int, double>,    // Map from eclass id to double value
		string_values : ref Tree<int, string>,    // Map from eclass id to string value 
	);

	ODomain(
		domain : string
	);
}
