import form/paragraphtypes;
import tropic/tropic_metrics;

export {
	TParagraphElement ::= StyledTextFragments, /* ParagraphElement is here only until we switch to tropic */ ParagraphElement;

		StyledTextFragments(fragments : TTextFragments, style : [TTexFragmentStyle]);
		
		TTextFragments ::= GeneralTextFragments, TInspectElement, Tropic;
		
		TTexFragmentStyle ::= TropicTextElementModifiers, TropicUnderline,
			TropicBaselineShift, TDynamicCharacterStyle;	

			TropicTextElementModifiers(fns : [(Tropic) -> Tropic]);
			TropicUnderline(isDouble : bool, color : int);
			TropicBaselineShift(shift : double);
			TDynamicCharacterStyle : (st : Transform<[CharacterStyle]>);

		TWrapElement ::= TWord, NewLine;
		
		TInspectElement(
			inspector : ParaElementInspector,
			element : Tropic,
		);
	
	TParaWord(
		word : TWrapElement,
		metrics : TFormMetrics,
		ghostView : GhostTropic,
		id : int
	);

	GhostTropic ::= TGhosted, Tropic, TCoordinateInspectElement;
		TCoordinateInspectElement(
			inspector : ParaElementInspector,
			form : Tropic,
		);

	TGhosted ::= GhostElem, TInspectGhost;
		GhostElem(point : DynamicBehaviour<Point>, form : Tropic);

		TInspectGhost(
			inspector : ParaElementInspector,
			form : Tropic
		);
}