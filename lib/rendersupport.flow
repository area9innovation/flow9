import form/videoform;
import sys/keycodes;
import sys/target;
import formats/json/json;

export {
	// Works only in js
	// Supported values: html, canvas, webgl
	native setRendererType : io (rendererType : string) -> void = RenderSupport.setRendererType;
	// Works only in js
	// Looks for html element with id = rootId and sets it as root to render from.
	native setRenderRoot : io (rootId : string) -> void = RenderSupport.setRenderRoot;
	// Works only in js
	// Returns id of the element which is currently set as a root to render from. Returns "" if no element is set.
	native getRenderRoot : io () -> string = RenderSupport.getRenderRoot;
	// Enable or disable text rendering outside view
	native setKeepTextClips : io (keep : bool) -> void = RenderSupport.setKeepTextClips;
	native getRendererType : io () -> string = RenderSupport.getRendererType;

	native loadPreconfiguredFonts : io (families : [string], onDone : () -> void) -> void = RenderSupport.loadPreconfiguredFonts;

	native loadFSFont : io (familiy : string, url : string) -> void = RenderSupport.loadFSFont;

	getFontStylesConfig() -> Json;

	native debugLog : io (str : string) -> void = RenderSupport.debugLog;

	// Please avoid using this, use render/makeStyledTextfield instead.
	// PixiJS target wants to know font family on field creation.
	// If used, ALWAYS use getMappedFontFace() from renderform.flow to extract family from CharacterStyle.
	// Note that it doesn't set text field font, that is setTextAndStyle call is still required.
	// TODO hence dfont is no more used, redo the native to get no params.
	native makeTextfield : io (fontFamily : string) -> native = RenderSupport.makeTextField;

	native getTextFieldWidth : io (clip : native) -> double = RenderSupport.getTextFieldWidth;
	native getTextFieldMaxWidth : io (clip : native) -> double = RenderSupport.getTextFieldMaxWidth;
	native getTextFieldHeight : io (clip : native) -> double = RenderSupport.getTextFieldHeight;
	// The baseline is metrics[0]
	native getTextMetrics : io (text : native) -> [double] = RenderSupport.getTextMetrics;
	native getTextFieldCharXPosition : io (clip: native, chridx: int) -> double = RenderSupport.getTextFieldCharXPosition;
	native findTextFieldCharByPosition : io (clip: native, x: double, y: double) -> int = RenderSupport.findTextFieldCharByPosition;
	native getStage : io () -> native = RenderSupport.getStage;
	native getStageId : io (stage : native) -> int = RenderSupport.getStageId;
	native setWindowTitle : io (title : string) -> void = RenderSupport.setWindowTitle;
	native setFavIcon : io (url : string) -> void = RenderSupport.setFavIcon;
	// Take snapshot and save to path
	native takeSnapshot : io (path : string) -> void = RenderSupport.takeSnapshot;
	native takeSnapshotBox : io (path : string, x : int, y : int, w : int, h : int) -> void = RenderSupport.takeSnapshotBox;
	// Take snapshot and return it as base64 string
	native getSnapshot : io () -> string = RenderSupport.getSnapshot;
	native getSnapshotBox : io (x : int, y : int, w : int, h : int) -> string = RenderSupport.getSnapshotBox;
	native getClipSnapshot : io (clip : native, cb : (png : string) -> void) -> void = RenderSupport.getClipSnapshot;
	native compareImages : io (image1 : string, image2 : string, cb : (json : string) -> void) -> void = RenderSupport.compareImages;

	// Camera API
	native getNumberOfCameras : io () -> int = RenderSupport.getNumberOfCameras;
	native getCameraInfo : io (id : int) -> string = RenderSupport.getCameraInfo;

	// Set interface orientation for mobile device. orientation = landscape, portrait, none
	native setInterfaceOrientation0 : io (orientation : string) -> void = RenderSupport.setInterfaceOrientation;

	// Read the color of this screen pixel in our window. Very slow!
	native getScreenPixelColor : io (x : int, y : int) -> int = RenderSupport.getScreenPixelColor;

	native setGlobalZoomEnabled : io (enabled : bool) -> void = RenderSupport.setGlobalZoomEnabled;

	native bitmapDraw : io (bitmap: native, clip : native, w : int, h : int) -> void = RenderSupport.bitmapDraw;
	native makeCamera : io (
		uri : string, camID : int, camWidth : int, camHeight : int, camFps : double, vidWidth : int, vidHeight : int, recordMode : int,
		cbOnOk : (stream : native) -> void, cbOnFailed : (msg : string) -> void
	) -> [native] = RenderSupport.makeCamera;
	native startRecord : io (clip : native, filename : string, mode : string) -> void = RenderSupport.startRecord;
	native stopRecord : io (clip : native) -> void = RenderSupport.stopRecord;
	native enableResize : io () -> void = RenderSupport.enableResize;
	native currentClip : io () -> native = RenderSupport.currentClip;
	native mainRenderClip : io () -> native = RenderSupport.mainRenderClip;
	native makeClip : io () -> native = RenderSupport.makeClip;
	native makeCanvasClip : io () -> native = RenderSupport.makeCanvasClip;
	native makeGraphics : io () -> native = RenderSupport.makeGraphics; // works only in js
	native addChild : io (parent : native, child : native) -> void = RenderSupport.addChild;
	native addChildAt : io (parent : native, child : native, id : int) -> void = RenderSupport.addChildAt;
	native removeChild : io (parent : native, child : native) -> void = RenderSupport.removeChild;
	native removeChildren : io (parent : native) -> void = RenderSupport.removeChildren;
	native setClipCallstack : io (clip : native, callstack : native) -> void = RenderSupport.setClipCallstack;
	// when debugging, stores the key/value pair in an internal map for the clip tree browser to use
	native setClipDebugInfo : io (clip : native, key : string, val : flow) -> void = RenderSupport.setClipDebugInfo;
	native setClipX : io (clip : native, x : double) -> void = RenderSupport.setClipX;
	native setClipY : io (clip : native, y : double) -> void = RenderSupport.setClipY;
	native setClipScaleX : io (clip : native, x : double) -> void = RenderSupport.setClipScaleX;
	native setClipScaleY : io (clip : native, y : double) -> void = RenderSupport.setClipScaleY;
	native setClipRotation : io (clip : native, x : double) -> void = RenderSupport.setClipRotation;
	native setClipAlpha : io (clip : native, y : double) -> void = RenderSupport.setClipAlpha;
	native setClipMask : io (clip : native, mask : native) -> void = RenderSupport.setClipMask;
	native setClipViewBounds : io (clip : native, minX : double, minY : double, maxX : double, maxY : double) -> void = RenderSupport.setClipViewBounds;
	native setClipWidth : io (clip : native, width : double) -> void = RenderSupport.setClipWidth;
	native getClipHeight : io (clip : native) -> double = RenderSupport.getClipHeight;
	native getClipWidth : io (clip : native) -> double = RenderSupport.getClipWidth;
	native setClipHeight : io (clip : native, height : double) -> void = RenderSupport.setClipHeight;
	native setClipResolution : io (clip : native, resolution : double) -> void = RenderSupport.setClipResolution;
	native setClipOrigin : io (clip : native, x : double, y : double) -> void = RenderSupport.setClipOrigin;
	native setTextAndStyle : io (
		textfield : native, text : string, fontfamily : string, fontsize : double,
		fontweight : int, fontslope : string,
		fillcolour : int, fillopacity : double, letterspacing : double,
		backgroundcolour : int, backgroundopacity : double
	) -> void = RenderSupport.setTextAndStyle;
	native setLineHeightPercent : io (textfield : native, lineHeightPercent : double) -> void = RenderSupport.setLineHeightPercent;
	native setTextNeedBaseline : io (textfield : native, needBaseline : bool) -> void = RenderSupport.setTextNeedBaseline;
	native setTextPreventCheckTextNodeWidth : io (textfield : native, prevent : bool) -> void = RenderSupport.setTextPreventCheckTextNodeWidth;
	native setEscapeHTML : io (textfield : native, escapeHTML : bool) -> void = RenderSupport.setEscapeHTML;
	native setTextWordSpacing : io (textfield : native, spacing : double) -> void = RenderSupport.setTextWordSpacing; // JS only
	native setTextDirection : io (
		textfield : native, dir : string
	) -> void = RenderSupport.setTextDirection;
	native setPreventContextMenu : io (textfield : native, preventContextMenu : bool) -> void = RenderSupport.setPreventContextMenu;
	native setAdvancedText : io (textfield : native, sharpness : int, antiAliasType : int, gridFitType : int) -> void = RenderSupport.setAdvancedText;
	native setTextFieldWidth : io (clip : native, width : double) -> void = RenderSupport.setTextFieldWidth;
	native setTextFieldHeight : io (clip : native, width : double) -> void = RenderSupport.setTextFieldHeight;
	native setTextFieldInterlineSpacing : io (clip : native, spacing : double) -> void = RenderSupport.setTextFieldInterlineSpacing;
	native setTextFieldPreventXSS : io (clip : native, enable : bool) -> void = RenderSupport.setTextFieldPreventXSS;
	native setTextFieldCropWords : io (clip : native, crop : bool) -> void = RenderSupport.setTextFieldCropWords;
	native setTextFieldCursorColor : io (clip : native, color : int, opacity : double) -> void = RenderSupport.setTextFieldCursorColor;
	native setTextFieldCursorWidth : io (clip : native, width : double) -> void = RenderSupport.setTextFieldCursorWidth;
	native setTextEllipsis : io (clip : native, lines : int, cb : (bool) -> void) -> void = RenderSupport.setTextEllipsis;
	native setTextSkipOrderCheck : io (clip : native, skip : bool) -> void = RenderSupport.setTextSkipOrderCheck;
	native setAutoAlign : io (clip : native, autoalign : string) -> void = RenderSupport.setAutoAlign;
	native makePicture : io (
		url : string, cache : bool, metricsFn : (width : double, height : double) -> void,
		errorFn : (string) -> void, onlyDownload : bool, altText : string, headers : [[string]]
	) -> native = RenderSupport.makePicture;
	native setPictureUseCrossOrigin : io (picture : native, useCrossOrigin : bool) -> void = RenderSupport.setPictureUseCrossOrigin;
	native setPictureReferrerPolicy : io (picture : native, referrerpolicy : string) -> void = RenderSupport.setPictureReferrerPolicy;
	native clearPictureRequestCache : io () -> void = FlowSprite.clearPictureRequestCache;
	native makeVideo : io (
		metricsFn : (width : double, height : double) -> void, playFn : (playing : bool) -> void,
		durationFn : (length : double) -> void, positionFn : (position : double) -> void
	) -> native = RenderSupport.makeVideo;
	native playVideo : io (clip : native, filename : string, startPaused : bool, headers : [[string]]) -> void = RenderSupport.playVideo;
	native playVideoFromMediaStream : io (clip : native, mediaStream : native, startPaused : bool) -> void = RenderSupport.playVideoFromMediaStream;
	native setVideoLooping: io (clip: native, looping: bool) -> void = RenderSupport.setVideoLooping;
	native setVideoSubtitle: io (
		clip: native, text : string, fontfamily : string, fontsize : double,
		fontweight : int, fontslope : string, fillcolour : int,
		fillopacity : double, letterspacing : double, backgroundcolour : int,
		backgroundopacity : double, alignBottom : bool, bottomBorder : double,
		scaleMode : bool, scaleModeMin : double, scaleModeMax : double, escapeHTML : bool
	) -> void = RenderSupport.setVideoSubtitle;
	native setVideoControls: io (clip: native, ctl: [PlayerControl]) -> void = RenderSupport.setVideoControls;
	native setVideoIsAudio: io (clip: native) -> void = RenderSupport.setVideoIsAudio;
	native setVideoVolume: io (clip: native, volume: double) -> void = RenderSupport.setVideoVolume;
	native setVideoTimeRange: io (clip: native, start: double, end: double) -> void = RenderSupport.setVideoTimeRange;
	native getVideoPosition: io (clip: native) -> double = RenderSupport.getVideoPosition;
	native getVideoCurrentFrame: io (clip: native) -> string = RenderSupport.getVideoCurrentFrame;
	native setVideoPlaybackRate: io (clip: native, rate: double) -> void = RenderSupport.setVideoPlaybackRate;
	native seekVideo : io (clip : native, frame : double) -> void = RenderSupport.seekVideo;
	native pauseVideo : io (clip : native) -> void = RenderSupport.pauseVideo;
	native resumeVideo : io (clip : native) -> void = RenderSupport.resumeVideo;
	native closeVideo : io (clip : native) -> void = RenderSupport.closeVideo;
	native addStreamStatusListener : io (clip : native, cb : (code : string) -> void) -> () -> void = RenderSupport.addStreamStatusListener;
	native addVideoSource : io (clip : native, src : string, type : string, headers : [[string]]) -> void = RenderSupport.addVideoSource;
	native setVideoExternalSubtitle : io (clip : native, kind : string, src : string) -> () -> void = RenderSupport.setVideoExternalSubtitle;
	native getGraphics : io (clip : native) -> native = RenderSupport.getGraphics;
	native clearGraphics : io (clip : native) -> void = RenderSupport.clearGraphics;
	native useSvg : io (clip : native) -> void = RenderSupport.useSvg;
	native setLineStyle : io (graphics : native, width : double, color : int, opacity: double) -> void = RenderSupport.setLineStyle;
	native beginFill : io (graphics : native, color : int, opacity: double) -> void = RenderSupport.beginFill;
	native beginGradientFill : io (graphics : native, colors : [int], alphas: [double], offsets: [double], matrix : native, type: string) -> void = RenderSupport.beginGradientFill;
	native setLineGradientStroke : io (graphics : native, colors : [int], alphas: [double], offsets: [double], matrix : native) -> void = RenderSupport.setLineGradientStroke;
	native makeMatrix : io (width : double, height : double, rotation : double, xOffset : double, yOffset : double) -> native = RenderSupport.makeMatrix;
	native moveTo : io (graphics : native, x : double, y : double) -> void = RenderSupport.moveTo;
	native lineTo : io (graphics : native, x : double, y : double) -> void = RenderSupport.lineTo;
	native curveTo : io (graphics : native, x : double, y : double, cx : double, cy : double) -> void = RenderSupport.curveTo;
	native endFill : io (graphics : native) -> void = RenderSupport.endFill;
	native drawRect : io (graphics : native, x : double, y : double, width : double, height : double) -> void = RenderSupport.drawRect;
	native drawRoundedRect : io (graphics : native, x : double, y : double, width : double, height : double, radius : double) -> void = RenderSupport.drawRoundedRect;
	native drawEllipse : io (graphics : native, x : double, y : double, width : double, height : double) -> void = RenderSupport.drawEllipse;
	native drawCircle : io (graphics : native, x : double, y : double, radius : double) -> void = RenderSupport.drawCircle;
	native setTextInput : io (native) -> void = RenderSupport.setTextInput;
	native setTextInputType : io (native, string) -> void = RenderSupport.setTextInputType;
	native setTextInputAutoCompleteType : io (native, string) -> void = RenderSupport.setTextInputAutoCompleteType;
	native setTextInputStep : io (native, double) -> void = RenderSupport.setTextInputStep;
	native addTextInputFilter : io (textfiled : native, f : (string) -> string) -> () -> void = RenderSupport.addTextInputFilter;
	native addTextInputEventFilter : io (textfiled : native, f : (string, string) -> string) -> () -> void = RenderSupport.addTextInputEventFilter;
	native addTextInputKeyEventFilter : io (
		clip : native, event : string, cb : (key : string, ctrl : bool, shift : bool,
		alt : bool, meta : bool, keyCode : int) -> bool
	) -> () -> void = RenderSupport.addTextInputKeyEventFilter;
	native addTextInputOnCopyEvent : io (textfiled : native, fn : (setClipboardFn : (string) -> void) -> void) -> () -> void = RenderSupport.addTextInputOnCopyEvent;
	native setTabIndex : io (native, int) -> void = RenderSupport.setTabIndex;
	native setTabEnabled : io (native, bool) -> void = RenderSupport.setTabEnabled;
	native getContent : io (native) -> string = RenderSupport.getContent;
	native getCursorPosition : io (native) -> int = RenderSupport.getCursorPosition;
	native getSelectionStart : io (native) -> int = RenderSupport.getSelectionStart;
	native getSelectionEnd : io (native) -> int = RenderSupport.getSelectionEnd;
	native setSelection : io (clip : native, start : int, end : int) -> void = RenderSupport.setSelection;
	native getFocus : io (native) -> bool = RenderSupport.getFocus;
	native getScrollV : io (native) -> int = RenderSupport.getScrollV;
	native setScrollV : io (native, int) -> void = RenderSupport.setScrollV;
	native getNumLines : io (native) -> int = RenderSupport.getNumLines;
	native getBottomScrollV : io (native) -> int = RenderSupport.getBottomScrollV;
	native setMultiline : io (native, bool) -> void = RenderSupport.setMultiline;
	native setWordWrap : io (native, bool) -> void = RenderSupport.setWordWrap;
	native setDoNotInvalidateStage : (native, bool) -> void = RenderSupport.setDoNotInvalidateStage;
	native setFocus : io (native, bool) -> void = RenderSupport.setFocus;
	native setReadOnly : io (native, bool) -> void = RenderSupport.setReadOnly;
	native setMaxChars : io (native, int) -> void = RenderSupport.setMaxChars;
	native setAutofillBackgroundColor : io (native, int) -> void = RenderSupport.setAutofillBackgroundColor;
	native setAutofillBackgroundOpacity : io (native, double) -> void = RenderSupport.setAutofillBackgroundOpacity;
	native setCursor : io (string) -> void = RenderSupport.setCursor;
	native getCursor : io () -> string = RenderSupport.getCursor;
	// makeWebClip(url, domain, updateCachedContent, reloadBlock, flowCallback, onDone, shrink2fit);
	native makeWebClip : io (string, string,  bool, bool, ([string]) -> string, (string) -> void, bool)-> native = RenderSupport.makeWebClip;
	native setWebClipSandBox : io (native, string) -> void = RenderSupport.setWebClipSandBox;
	native setWebClipDisabled : io (native, bool) -> void = RenderSupport.setWebClipDisabled;
	native setWebClipNoScroll : io (native) -> void = RenderSupport.setWebClipNoScroll;
	native setWebClipPassEvents : io (native) -> void = RenderSupport.setWebClipPassEvents;
	native webClipHostCall : io (native, string, [string]) -> string = RenderSupport.webClipHostCall;
	// The code to run and the callback that receives the result. Only works if the clip is attached to a window
	native webClipEvalJS : io (native, string, (string) -> void) -> void = RenderSupport.webClipEvalJS;
	native setWebClipZoomable : io (native, bool) -> void = RenderSupport.setWebClipZoomable;
	native setWebClipDomains : io (native, [string]) -> void = RenderSupport.setWebClipDomains;

	// JS only
	native makeHTMLStage : io (width : double, height : double) -> native = RenderSupport.makeHTMLStage;
	native assignClip : io (stage : native, className : string, clip : native) -> void = RenderSupport.assignClip;
	native createElement : io (tagName : string) -> native = RenderSupport.createElement;
	native createTextNode : io (text : string) -> native = RenderSupport.createTextNode;
	native changeNodeValue : io (textNode : native, text : string) -> void = RenderSupport.changeNodeValue;
	native getElementById : io (selector : string) -> native = RenderSupport.getElementById;
	native getElementChildren : io (element : native) -> [native] = RenderSupport.getElementChildren;
	native getElementNextSibling : io (element : native) -> native = RenderSupport.getElementNextSibling;
	native isElementNull : io (element : native) -> bool = RenderSupport.isElementNull;

	// Set html element attribute
	// If "safe" parameter is true calls sanitize from DOMPurify library before applying the attribute
	// DOMPurify sanitizes HTML and prevents XSS attacks, so in most cases "safe" parameter should be true
	native setAttribute : io (element : native, name : string, value : string, safe : bool) -> void = RenderSupport.setAttribute;
	native removeAttribute : io (element : native, name : string) -> void = RenderSupport.removeAttribute;
	native reloadPage : io (forced : bool) -> void = RenderSupport.reloadPage;

	native appendChild : io (element : native, child : native) -> void = RenderSupport.appendChild;
	native insertBefore : io (element : native, child : native, reference : native) -> void = RenderSupport.insertBefore;
	native removeElementChild : io (element : native, child : native) -> void = RenderSupport.removeElementChild;
	native getPropertyValue : io (element : native, property : string) -> string = RenderSupport.getPropertyValue;

	native setClipVisible : io (native, bool) -> void = RenderSupport.setClipVisible;
	native getClipVisible : io (native) -> bool = RenderSupport.getClipVisible;
	native getClipRenderable : io (native) -> bool = RenderSupport.getClipRenderable;
	native setClipCursor : io (native, string) -> void = RenderSupport.setClipCursor;
	native setClipProtected : io (clip : native) -> void = RenderSupport.setClipProtected;
	native addGestureListener : io (
		event : string,
		cb : (int, double, double, double, double) -> bool
	) -> () -> void = RenderSupport.addGestureListener;

	native addFilters : io (native, [native]) -> void = RenderSupport.addFilters;
	native makeBevel : io (
		angle : double, distance : double, radius : double, spread : double, color1 : int, alpha1 : double,
		color2 : int, alpha2 : double, inner : bool
	) -> native = RenderSupport.makeBevel;
	native makeDropShadow : io (
		angle : double, distance : double, radius : double, spread : double, color : int,
		alpha : double, inner : bool
	) -> native = RenderSupport.makeDropShadow;
	native setUseBoxShadow: io (dropShadow : native) -> void = RenderSupport.setUseBoxShadow;
	native makeBlur: io (radius : double, spread : double) -> native = RenderSupport.makeBlur;
	native makeBackdropBlur: io (spread : double) -> native = RenderSupport.makeBackdropBlur;
	native makeGlow: io (radius : double, spread : double, color : int, alpha : double, inner : bool) -> native = RenderSupport.makeGlow;
	native makeShader: io (vertex : [string], fragment : [string], uniform : [[string]]) -> native = RenderSupport.makeShader;
	native setScrollRect : io (clip : native, left : double, top : double, width : double, height : double) -> void = RenderSupport.setScrollRect;
	native setCropEnabled : io (clip : native, enabled : bool) -> void = RenderSupport.setCropEnabled;
	native setContentRect : io (clip : native, width : double, height : double) -> void = RenderSupport.setContentRect;
	native listenScrollRect : io (clip : native, cb : (dx : double, dy : double) -> void) -> () -> void = RenderSupport.listenScrollRect;
	native setAccessAttributes : io (clip : native, properties : [[string]]) -> void = RenderSupport.setAccessAttributes;
	setClipAttribute(clip : native, name : string, value : string) -> void;
	native setClipStyle : io (clip : native, name : string, value : string) -> void = RenderSupport.setClipStyle;
	native removeAccessAttributes : io (clip : native) -> void = RenderSupport.removeAccessAttributes;
	native setAccessCallback : io (clip : native, callback : () -> void) -> void = RenderSupport.setAccessCallback;
	native setClipTagName : io (clip : native, tagName : string) -> void = RenderSupport.setClipTagName;
	native setClipClassName : io (clip : native, className : string) -> void = RenderSupport.setClipClassName;


	// click, mousedown, mouseup, rightclick, mouserightdown, mouserightup, mousemiddledown, mousemiddleup, mousemove, mouseenter, mouseleave, change, focusin, focusout
	native addEventListener : io (clip : native, event : string, cb : () -> void) -> () -> void = RenderSupport.addEventListener;
	native emitMouseEvent : io (clip : native, event : string, x : double, y : double) -> void = RenderSupport.emitMouseEvent;
	native emitKeyEvent : io (clip : native, event : string, key : string, ctrl : bool, shift : bool, alt : bool, meta : bool, keyCode : int) -> void = RenderSupport.emitKeyEvent;
	native addFileDropListener : io (
		clip : native, maxFilesCount : int, mimeTypeRegExpFilter : string,
		onDone : (files : [native]) -> void
	) -> () -> void = RenderSupport.addFileDropListener;

	native addKeyEventListener : io (
		clip : native, event : string,
		cb : (key : string, ctrl : bool, shift : bool, alt : bool, meta : bool, keyCode : int,
		preventDefault : () -> void) -> void
	) -> () -> void = RenderSupport.addKeyEventListener;

	native getStageWidth : io ()-> double = RenderSupport.getStageWidth;
	native getStageHeight : io ()-> double = RenderSupport.getStageHeight;
	native getStageWidthOf : io (rootId : string)-> double = RenderSupport.getStageWidthOf;
	native getStageHeightOf : io (rootId : string)-> double = RenderSupport.getStageHeightOf;
	native getPixelsPerCm : io () -> double = RenderSupport.getPixelsPerCm;
	native getBrowserZoom : io () -> double = RenderSupport.getBrowserZoom;
	native isDarkMode : io () -> bool = RenderSupport.isDarkMode;

	native setHitboxRadius : io (radius : double) -> void = RenderSupport.setHitboxRadius;
	native addFinegrainMouseWheelEventListener : io (
		clip : native,
		cb : (dx : double, dy : double) -> void
	) -> () -> void = RenderSupport.addFinegrainMouseWheelEventListener;

	native addExtendedEventListener : io (clip : native, event : string, cb : ([flow]) -> void) -> () -> void  = RenderSupport.addExtendedEventListener;

	native setAccessibilityEnabled : io (enabled : bool) -> void = RenderSupport.setAccessibilityEnabled;

	native setEnableFocusFrame : io (show : bool) -> void = RenderSupport.setEnableFocusFrame;

	native setNativeTabEnabled : io (enabled : bool) -> void = RenderSupport.setNativeTabEnabled;

	native addDrawFrameEventListener : io (fn : (double) -> void) -> () -> void = RenderSupport.addDrawFrameEventListener;

	native addVirtualKeyboardHeightListener : io (fn : (double) -> void) -> () -> void = RenderSupport.addVirtualKeyboardHeightListener;
	// Fires when user pastes in case application is focused.
	// The pasted data is immediately available in callback
	// with getGlobalClipboard and getGlobalClipboardFormat from runtime.flow
	native addPasteEventListener : io (callback : (files : [native]) -> void) -> () -> void = RenderSupport.addPasteEventListener;

	// JS ONLY!
	// Receives browser message data into callback
	native addMessageEventListener : io (
		callback : (message : string, origin : string) -> void
	) -> () -> void = RenderSupport.addMessageEventListener;

	native setDropCurrentFocusOnMouse : io (drop : bool) -> void = RenderSupport.setDropCurrentFocusOnMouse;

	native startProfile : io (name : string) -> void = RenderSupport.startProfile;
	native endProfile : io () -> void = RenderSupport.endProfile;

	native setiOSBackgroundColor : io (color : int) -> void = RenderSupport.setBackgroundColor;
	native setiOSStatusBarColor: io (color : int) -> void = RenderSupport.setStatusBarColor;
	native setiOSStatusBarVisible : io (visible : bool) -> void = RenderSupport.setStatusBarVisible;
	native setiOSStatusBarIconsTheme : io (light : bool) -> void = RenderSupport.setStatusBarIconsTheme;
	// Sets lang attribute of the main html tag
	// See https://www.w3schools.com/tags/att_global_lang.asp for examples of language codes
	native setApplicationLanguage : io (languageCode : string) -> void = RenderSupport.setApplicationLanguage;
	native setTranslateAttribute : io (translate : bool) -> void = RenderSupport.setTranslateAttribute;
	native setPinchToScaleEnabled : io (enabled : bool) -> void = RenderSupport.setPinchToScaleEnabled;
	// Set to false to disable e.stopPropagation() calls and pass key events to the browser
	native setStopKeyEventsPropagation : io (stop : bool) -> void = RenderSupport.setStopKeyEventsPropagation;

	native getSafeArea : io () -> [double] = RenderSupport.getSafeArea;

	// Controls custom browser zoom factor
	// Works only in js
	native setAccessibilityZoom : io (zoom : double) -> void = RenderSupport.setAccessibilityZoom;
	native getAccessibilityZoom : io () -> double = RenderSupport.getAccessibilityZoom;

	// Works only in js and only in browsers that support Element.animate
	// In case target doesn't support keyframe animations fallbackAnimation is called
	native addClipAnimation : io (clip : native, keyframes : [[string]], options : [[string]], onFinish : () -> void, fallbackAnimation : () -> () -> void) -> () -> void = RenderSupport.addClipAnimation;
	native getUserDefinedLetterSpacing : io () -> double = RenderSupport.getUserDefinedLetterSpacing;
	native getUserDefinedLetterSpacingPercent : io () -> double = RenderSupport.getUserDefinedLetterSpacingPercent;
	native getUserDefinedFontSize : io () -> double = RenderSupport.getUserDefinedFontSize;
	native getUserDefinedWordSpacingPercent : io () -> double = RenderSupport.getUserDefinedWordSpacingPercent;
	native monitorUserStyleChanges : io () -> () -> void = RenderSupport.monitorUserStyleChanges;

	// JS: Set print dialog page size in pixels
	// Sets page margins and paddings to 0
	// Returns disposer that reverts these page size changes
	// Better to dispose previous setPrintPageSize before calling the next one, but in theory should work fine too
	native setPrintPageSize : io (wd : double, hgt : double) -> () -> void = RenderSupport.setPrintPageSize;
	// JS: Show browser standard print dialog
	// Waits for all visible images to load or fail
	native showPrintDialog : io () -> void = RenderSupport.showPrintDialog;

	// JS: Add a rule or a set rules (separated by ";") to the global stylesheet
	// Call with empty "rules" to remove previously set rules for this "selector"
	native setGlobalStyle : io (selector : string, rules : string) -> void = RenderSupport.setGlobalStyle;

	// JS HTML Renderer: Extract rendered static html from the clip
	native getClipHTML : io (clip : native) -> string = RenderSupport.getClipHTML;

	// JS: Count how much clips are children including clip itself
	// Pass getStage to get overall amount of clips created
	native countClips : io (clip : native) -> int = RenderSupport.countClips;

	// JS: Check if the root element of provided svg has viewBox attribute
	native checkIsValidSvg : io (url : string, cb : (bool) -> void) -> void = RenderSupport.checkIsValidSvg;

	// get hadUserInteracted value
	native getHadUserInteracted : io () -> bool = RenderSupport.getHadUserInteracted;

	// JS: Open datePicker for input with type date
	native openDatePicker : io (clip : native) -> () -> void  = RenderSupport.openDatePicker;

	// JS: Call getBoundingClientRect on the nativeWidget from the clip, returns [x, y, width, height] or [] in case of an error
	native getClipBoundingClientRect : io (clip : native) -> [double] = RenderSupport.getClipBoundingClientRect;
}

native getFontStylesConfigString : io () -> string = RenderSupport.getFontStylesConfigString;

getTextFieldCharXPosition(clip: native, chridx: int) -> double {
	println("getTextFieldCharXPosition is not implemented");
	0.0;
}

findTextFieldCharByPosition(clip: native, x: double, y: double) -> int {
	println("findTextFieldCharByPosition is not implemented");
	0;
}

showTodoWarnings = !isUrlParameterTrue("mute_todo_warnings");
printTodoWarning(functionName : string) -> void {
	if (showTodoWarnings) println("TODO: implement '" + functionName + "'")
}

// fallback bodies
setRendererType(rendererType : string) {
	printTodoWarning("setRendererType");
}
setRenderRoot(rootId : string) {
	printTodoWarning("setRenderRoot");
}
getRenderRoot() {
	printTodoWarning("getRenderRoot");
	""
}
debugLog(str : string) {
	printTodoWarning("debugLog");
}
makeTextfield(fontFamily : string) -> native {
	printTodoWarning("makeTextfield");
	flow(0);
}
getTextFieldWidth(clip : native) -> double {
	printTodoWarning("getTextFieldWidth");
	0.0;
}
getTextFieldHeight(clip : native) -> double {
	printTodoWarning("getTextFieldHeight");
	0.0;
}
setKeepTextClips(keep : bool) {
	printTodoWarning("setKeepTextClips");
}
getTextMetrics(text : native) -> [double] {
	printTodoWarning("getTextMetrics");
	[]
}
getStage() -> native {
	printTodoWarning("getStage");
	flow(0);
}
setWindowTitle(title : string) -> void {
	printTodoWarning("setWindowTitle");
}
setFavIcon(url : string) -> void {
	printTodoWarning("setFavIcon");
}

getRendererType() {
	// Shouldn't we warn a user that a fallback is used?
	"webgl"
}
setClipDebugInfo(clip : native, key : string, val : flow) {
	printTodoWarning("setClipDebugInfo");
}
getPixelsPerCm() {
	// Shouldn't we warn a user that a fallback is used?
	37.795;
}
getBrowserZoom() {
	// Shouldn't we warn a user that a fallback is used?
	1.0;
}
isDarkMode() {
	// Shouldn't we warn a user that a fallback is used?
	false;
}
addTextInputFilter(textfiled, f) {
	printTodoWarning("addTextInputFilter");
	nop
}
addTextInputEventFilter(textfiled, f) {
	printTodoWarning("addTextInputEventFilter");
	nop
}
addTextInputOnCopyEvent(textfiled, fn) {
	printTodoWarning("addTextInputOnCopyEvent");
	nop
}
loadPreconfiguredFonts(families, onDone) {
	printTodoWarning("loadPreconfiguredFonts");
}
loadFSFont(family, url) {
	printTodoWarning("loadFSFont");
}
setTabEnabled(c, e) {
	printTodoWarning("setTabEnabled");
}

getContent(x: native) -> string {
	printTodoWarning("getContent");
	""
}
getCursorPosition(x: native) -> int {
	printTodoWarning("getCursorPosition");
	0
}
getSelectionStart(x: native) -> int {
	printTodoWarning("getSelectionStart");
	0
}
getSelectionEnd(x: native) -> int {
	printTodoWarning("getSelectionEnd");
	0
}
setSelection(clip : native, start : int, end : int) -> void {
	printTodoWarning("setSelection");
}
getFocus(x: native) -> bool {
	printTodoWarning("getFocus");
	false;
}

getScrollV(x: native) -> int {
	printTodoWarning("getScrollV");
	0;
}
setScrollV(x: native, y: int) -> void {
	printTodoWarning("setScrollV");
}
getNumLines(x: native) -> int {
	printTodoWarning("getNumLines");
	0
}
setMultiline(x: native, y: bool) -> void {
	printTodoWarning("setMultiline");
}
setWordWrap(x: native, y: bool) -> void {
	printTodoWarning("setWordWrap");
}
setFocus(x: native, y: bool) -> void {
	printTodoWarning("setFocus");
}
setReadOnly(x: native, y: bool) -> void {
	printTodoWarning("setReadOnly");
}
setMaxChars(x: native, y: int) -> void {
	printTodoWarning("setMaxChars");
}
setCursor(x: string) -> void {
	printTodoWarning("setCursor");
}
getCursor() -> string {
	printTodoWarning("getCursor");
	""
}

makeWebClip(a: string, b: string, c: bool, d: bool, e: ([string]) -> string, f: (string) -> void, g: bool) -> native {
	printTodoWarning("makeWebClip");
	flow(0)
}
setWebClipSandBox(x: native, y: string) -> void {
	printTodoWarning("setWebClipSandBox");
}
setWebClipDisabled(x: native, y: bool) -> void {
	printTodoWarning("setWebClipDisabled");
}
webClipHostCall(x: native, y: string, z: [string]) -> string {
	printTodoWarning("webClipHostCall");
	""
}
webClipEvalJS(x: native, y: string, z: (string) -> void) -> void {
	printTodoWarning("webClipEvalJS");
}
setWebClipZoomable(x: native, y: bool) -> void {
	printTodoWarning("setWebClipZoomable");
}
setWebClipDomains(x: native, y: [string]) -> void {
	printTodoWarning("setWebClipDomains");
}
assignClip(stage : native, className : string, clip : native) -> void {
	printTodoWarning("assignClip");
}

addExtendedEventListener(c, e, cb) {
	if (!cpp) {
		println("TODO: implement 'addExtendedEventListener' " + e);
	}
	nop
}
setAccessibilityEnabled(e) {
	printTodoWarning("setAccessibilityEnabled");
}
setEnableFocusFrame(e) {
	printTodoWarning("setEnableFocusFrame");
}
setNativeTabEnabled(e) {
	printTodoWarning("setNativeTabEnabled");
}
getStageWidth() {
	if (!cpp) {
		printTodoWarning("getStageWidth");
	}
	0.0
}
getStageHeight() {
	if (!cpp) {
		printTodoWarning("getStageHeight");
	}
	0.0
}
getStageWidthOf(rootId : string) { getStageWidth() }
getStageHeightOf(rootId : string) { getStageHeight() }
getStageId(stage) {
	if (!cpp) {
		printTodoWarning("getStageId");
	}
	0
}
addMessageEventListener(fn) {
	printTodoWarning("addMessageEventListener");
	nop
}
addDrawFrameEventListener(fn) {
	printTodoWarning("addDrawFrameEventListener");
	nop
}
setTextInputStep(c, s) {
	printTodoWarning("setTextInputStep");
}
addPasteEventListener(cb) {
	addKeyEventListener(
		getStage(),
		"keydown",
		\key, ctrl, shift, alt, meta, keyCode, preventDefault -> {
			if (ctrl && keyCode == KEY_V) cb([]);
		}
	)
}

getFontStylesConfig() -> Json {
	if (js) parseJson(getFontStylesConfigString()) else getJsonObjectField(parseJson("#include resources/fontconfig.json"), "styles");
}

getTextFieldMaxWidth(tf : native) -> double {
	setWordWrap(tf, false);
	wd = getTextFieldWidth(tf);
	setWordWrap(tf, true);
	wd;
}
addTextInputKeyEventFilter(
	clip : native, event : string, cb : (key : string, ctrl : bool, shift : bool,
	alt : bool, meta : bool, keyCode : int
) -> bool) {
	nop;
}
addFileDropListener(
	clip : native, maxFilesCount : int, mimeTypeRegExpFilter : string,
	onDone : (files : [native]) -> void
) -> () -> void {
	nop;
}
setDropCurrentFocusOnMouse(d) {
	if (!cpp) {
		printTodoWarning("setDropCurrentFocusOnMouse");
	}
}
setTextFieldInterlineSpacing(clip, spacing) {
	printTodoWarning("setTextFieldInterlineSpacing");
}
setTextFieldPreventXSS(clip, enable) {
	if (!cpp) {
		printTodoWarning("setTextFieldPreventXSS");
	}
}
setTextFieldCropWords(clip, crop) {
	printTodoWarning("setTextFieldCropWords");
}
setTextFieldCursorColor(clip, color, opacity) {
	printTodoWarning("setTextFieldCursorColor");
}
setTextFieldCursorWidth(clip, width) {
	printTodoWarning("setTextFieldCursorWidth");
}
setPreventContextMenu(textfield, preventContextMenu) {
	if (!cpp) {
		printTodoWarning("setPreventContextMenu");
	}
};
setVideoTimeRange(clip, start, end) {
	printTodoWarning("setVideoTimeRange");
}

getGraphics(clip : native) -> native {
	printTodoWarning("getGraphics");
	flow(0);
}
setLineStyle(graphics : native, width : double, color : int, opacity: double) -> void {
	printTodoWarning("setLineStyle");
}
setLineGradientStroke(graphics : native, colors : [int], alphas: [double], offsets: [double], matrix : native) -> void {
	printTodoWarning("setLineGradientStroke");
}
makeMatrix(width : double, height : double, rotation : double, xOffset : double, yOffset : double) -> native {
	printTodoWarning("makeMatrix");
	flow(0);
}
moveTo(graphics : native, x : double, y : double) -> void {
	printTodoWarning("moveTo");
}
lineTo(graphics : native, x : double, y : double) -> void {
	printTodoWarning("lineTo");
}

setVideoIsAudio(clip) {
	printTodoWarning("setVideoIsAudio");
}
setClipStyle(clip, name, value) {
	printTodoWarning("setClipStyle");
}
removeAccessAttributes(clip) {
	if (!cpp) {
		printTodoWarning("removeAccessAttributes");
	}
}
setAccessCallback(clip, cb) {
	printTodoWarning("setAccessCallback");
}
setClipTagName(clip, tagName) {
	if (!cpp) {
		printTodoWarning("setClipTagName");
	}
}
setClipClassName(clip, className) {
	printTodoWarning("setClipClassName");
}
addEventListener(clip, event, cb) {
	printTodoWarning("addEventListener");
	nop;
}
emitMouseEvent(clip, event, x, y) {
	printTodoWarning("emitMouseEvent");
}
getSnapshot() {
	printTodoWarning("getSnapshot");
	""
}
setClipVisible(x: native, y: bool) -> void {
	printTodoWarning("setClipVisible");
}
getClipVisible(x: native) -> bool {
	printTodoWarning("getClipVisible");
	false;
}
getClipRenderable(clip) {
	getClipVisible(clip);
}
setClipCursor(clip, c) {
	printTodoWarning("setClipCursor");
}
setClipProtected(clip) {
	printTodoWarning("setClipProtected");
};

drawRect(graphics : native, x : double, y : double, width : double, height : double) -> void {
	printTodoWarning("drawRect");
}
drawRoundedRect(graphics : native, x : double, y : double, width : double, height : double, radius : double) -> void {
	printTodoWarning("drawRoundedRect");
}
drawEllipse(graphics : native, x : double, y : double, width : double, height : double) -> void {
	printTodoWarning("drawEllipse");
}
drawCircle(graphics : native, x : double, y : double, radius : double) -> void {
	printTodoWarning("drawCircle");
}

setTextInput(x: native) -> void {
	printTodoWarning("setTextInput");
}
setTextInputType(x: native, y: string) -> void {
	printTodoWarning("setTextInputType");
}
setTabIndex(x: native, y: int) -> void {
	printTodoWarning("setTabIndex");
}

setClipWidth(clip : native, width : double) { setClipScaleX(clip, width / 100.0); }
setClipHeight(clip : native, height : double) { setClipScaleY(clip, height / 100.0); }
setClipOrigin(clip : native, x : double, y : double) {
	printTodoWarning("setClipOrigin");
}

setTextAndStyle(
	textfield : native, text : string, fontfamily : string, fontsize : double,
	fontweight : int, fontslope : string,
	fillcolour : int, fillopacity : double, letterspacing : double,
	backgroundcolour : int, backgroundopacity : double
) -> void {
	printTodoWarning("setTextAndStyle");
}
makePicture(
	url : string, cache : bool, metricsFn : (width : double, height : double) -> void,
	errorFn : (string) -> void, onlyDownload : bool, altText : string, headers : [[string]]
) -> native {
	printTodoWarning("makePicture");
	flow(0);
}
makeVideo(
	metricsFn : (width : double, height : double) -> void, playFn : (playing : bool) -> void,
	durationFn : (length : double) -> void, positionFn : (position : double) -> void
) -> native {
	printTodoWarning("makeVideo");
	flow(0);
}
playVideo(clip : native, filename : string, startPaused : bool, headers : [[string]]) -> void {
	printTodoWarning("playVideo");
}
playVideoFromMediaStream(clip : native, mediaStream : native, startPaused : bool) -> void {
	printTodoWarning("playVideoFromMediaStream");
}
setVideoLooping(clip: native, looping: bool) -> void {
	printTodoWarning("setVideoLooping");
}
setVideoSubtitle(
	clip: native, text : string, fontfamily : string, fontsize : double,
	fontweight : int, fontslope : string, fillcolour : int,
	fillopacity : double, letterspacing : double, backgroundcolour : int,
	backgroundopacity : double, alignBottom : bool, bottomBorder : double,
	scaleMode : bool, scaleModeMin : double, scaleModeMax : double, escapeHTML : bool
) -> void {
	printTodoWarning("setVideoSubtitle");
}
setVideoControls(clip: native, ctl: [PlayerControl]) -> void {
	printTodoWarning("setVideoControls");
}
setVideoVolume(clip: native, volume: double) -> void {
	printTodoWarning("setVideoVolume");
}
getVideoPosition(clip: native) -> double {
	printTodoWarning("getVideoPosition");
	0.0
}
getVideoCurrentFrame(clip: native) -> string {
	printTodoWarning("getVideoCurrentFrame");
	""
}
setVideoPlaybackRate(clip: native, rate: double) -> void {
	printTodoWarning("setVideoPlaybackRate");
}
seekVideo(clip : native, frame : double) -> void {
	printTodoWarning("seekVideo");
}
pauseVideo(clip : native) -> void {
	printTodoWarning("pauseVideo");
}
resumeVideo(clip : native) -> void {
	printTodoWarning("resumeVideo");
}
addVideoSource(clip : native, src : string, type : string, headers : [[string]]) -> void {
	printTodoWarning("addVideoSource");
}
setVideoExternalSubtitle(clip : native, kind : string, src : string) -> () -> void {
	printTodoWarning("setVideoExternalSubtitle");
	nop
}

startProfile(name : string) -> void {
	printTodoWarning("startProfile");
}
endProfile() -> void {
	printTodoWarning("endProfile");
}

setTextInputAutoCompleteType(clip : native, type : string) -> void {
	printTodoWarning("setTextInputAutoCompleteType");
}
setWebClipNoScroll(clip : native) -> void {
	printTodoWarning("setWebClipNoScroll");
}
setWebClipPassEvents(clip : native) -> void {
	printTodoWarning("setWebClipPassEvents");
}

setiOSBackgroundColor(color : int) {
	if (getIsIosPlatform()) {
		printTodoWarning("setiOSBackgroundColor");
	}
}
setiOSStatusBarColor(color : int) {
	if (getIsIosPlatform()) {
		printTodoWarning("setiOSStatusBarColor");
	}
}
setiOSStatusBarVisible(visible : bool) {
	if (getIsIosPlatform()) {
		printTodoWarning("setiOSStatusBarVisible");
	}
}
setiOSStatusBarIconsTheme(light : bool) {
	if (getIsIosPlatform()) {
		printTodoWarning("setiOSStatusBarIconsTheme");
	}
}
setTextEllipsis(clip, lines, cb) {
	printTodoWarning("setTextEllipsis");
}
setTextSkipOrderCheck(clip, skip) {
	printTodoWarning("setTextSkipOrderCheck");
}

makeHTMLStage(width : double, height : double) { makeClip() }
createElement(tagName : string) { makeClip() }
createTextNode(text : string) { makeClip() }
changeNodeValue(textNode : native, text : string) {
	printTodoWarning("changeNodeValue");
}
getElementById(selector : string) -> native { makeClip() }
getElementChildren(element : native) -> [native] {
	printTodoWarning("getElementChildren");
	[]
}
getElementNextSibling(element : native) -> native { makeClip() }
isElementNull(element : native) -> bool {
	printTodoWarning("isElementNull");
	true;
}

setAttribute(element : native, name : string, value : string, safe : bool) {
	printTodoWarning("setAttribute");
}
removeAttribute(element : native, name : string) {
	printTodoWarning("removeAttribute");
}
reloadPage(forced : bool) {
	printTodoWarning("reloadPage");
}

appendChild(element : native, child : native) {
	printTodoWarning("appendChild");
}
insertBefore(element : native, child : native, reference : native) {
	printTodoWarning("insertBefore");
}
removeElementChild(element : native, child : native) {
	printTodoWarning("removeElementChild");
}
getPropertyValue(element : native, property : string) -> string {
	printTodoWarning("getPropertyValue");
	"";
}

mainRenderClip() { currentClip() }
takeSnapshotBox(path : string, x : int, y : int, w : int, h : int) {
	printTodoWarning("takeSnapshotBox");
}
getSnapshotBox(x : int, y : int, w : int, h : int) {
	""
}
compareImages(image1 : string, image2 : string, cb : (json : string) -> void) -> void {
	printTodoWarning("compareImages");
}
getNumberOfCameras() -> int {
	printTodoWarning("getNumberOfCameras");
	0
}
getCameraInfo(id : int) -> string {
	printTodoWarning("getCameraInfo");
	""
}
setInterfaceOrientation0(orientation : string) -> void {
	printTodoWarning("setInterfaceOrientation0");
}
getScreenPixelColor(x : int, y : int) -> int {
	printTodoWarning("getScreenPixelColor");
	0
}
setGlobalZoomEnabled(enabled : bool) -> void {
	printTodoWarning("setGlobalZoomEnabled");
}
bitmapDraw(bitmap: native, clip : native, w : int, h : int) -> void {
	printTodoWarning("bitmapDraw");
}
makeCamera(
	uri : string, camID : int, camWidth : int, camHeight : int, camFps : double, vidWidth : int, vidHeight : int, recordMode : int,
	cbOnOk : (stream : native) -> void, cbOnFailed : (msg : string) -> void
) -> [native] {
	printTodoWarning("makeCamera");
	[]
}
startRecord(clip : native, filename : string, mode : string) -> void {
	printTodoWarning("startRecord");
}
stopRecord(clip : native) -> void {
	printTodoWarning("stopRecord");
}
makeClip() -> native {
	printTodoWarning("makeClip");
	flow(0)
}

getClipSnapshot(clip : native, cb : (string) -> void) { cb(""); }

setDoNotInvalidateStage(element : native, invalidate : bool) -> void {
	printTodoWarning("setDoNotInvalidateStage");
}
clearGraphics(gr) {
	printTodoWarning("clearGraphics");
}
useSvg(gr) {
	printTodoWarning("useSvg");
}
makeCanvasClip() { makeClip() }

getClipWidth(clip) {
	printTodoWarning("getClipWidth");
	0.0
}
getClipHeight(clip) {
	printTodoWarning("getClipHeight");
	0.0
}

setLineHeightPercent(textfield, lineHeightPercent) {
	printTodoWarning("setLineHeightPercent");
}
setTextNeedBaseline(textfield, needBaseline) {
	printTodoWarning("setTextNeedBaseline");
}
setTextPreventCheckTextNodeWidth(textfield, prevent) {
	if (!cpp) {
		printTodoWarning("setTextPreventCheckTextNodeWidth");
	}
}
setEscapeHTML(textfield, escape) {
	if (!cpp) {
		printTodoWarning("setEscapeHTML");
	}
}
setTextWordSpacing(textfield, spacing) {
	printTodoWarning("setTextWordSpacing");
}
setContentRect(clip, width, height) {
	printTodoWarning("setContentRect");
}
listenScrollRect(clip, cb) {
	printTodoWarning("listenScrollRect");
	nop;
}
setApplicationLanguage(lang) {
	printTodoWarning("setApplicationLanguage");
}
setTranslateAttribute(translate) {
	printTodoWarning("setNoTranslate");
}
setPinchToScaleEnabled(enabled) {
	printTodoWarning("setPinchToScaleEnabled");
}
setStopKeyEventsPropagation(stop) {
	printTodoWarning("setStopKeyEventsPropagation");
}
setAutofillBackgroundColor(textfield, color) {
	printTodoWarning("setAutofillBackgroundColor");
}
setAutofillBackgroundOpacity(textfield, opacity) {
	printTodoWarning("setAutofillBackgroundOpacity");
}

getSafeArea() {
	[0.0, 0.0, 0.0, 0.0];
}

setAccessibilityZoom(zoom) {
	printTodoWarning("setAccessibilityZoom");
}
getAccessibilityZoom() { 1.0; }

setPictureUseCrossOrigin(picture : native, useCrossOrigin : bool) -> void {
	printTodoWarning("setPictureUseCrossOrigin");
}
setPictureReferrerPolicy(picture : native, referrerpolicy : string) -> void {
	printTodoWarning("setPictureReferrerPolicy");
}
clearPictureRequestCache() -> void {
	printTodoWarning("clearPictureRequestCache");
}
setCropEnabled(clip : native, enabled : bool) -> void {
	if (!cpp) {
		printTodoWarning("setCropEnabled");
	}
}
setUseBoxShadow(dropShadow : native) -> void {
	printTodoWarning("setUseBoxShadow");
}

addClipAnimation(clip, keyframes, options, onFinish, fallbackAnimation) { fallbackAnimation(); }
getUserDefinedLetterSpacing() {
	if (!(cpp || java)) {
		printTodoWarning("getUserDefinedLetterSpacing");
	}
	0.0;
}
getUserDefinedLetterSpacingPercent() {
	if (!(cpp || java)) {
		printTodoWarning("getUserDefinedLetterSpacingPercent");
	}
	0.0;
}
getUserDefinedFontSize() { 16.0; }
getUserDefinedWordSpacingPercent() { 0.0; }
monitorUserStyleChanges() { nop; }
setPrintPageSize(wd, hgt) { nop; }
getClipHTML(clip) { ""; }
showPrintDialog() {
	printTodoWarning("showPrintDialog");
}
setGlobalStyle(selector, rules) {
	printTodoWarning("setGlobalStyle");
}
countClips(clip) { 0; }
checkIsValidSvg(url, cb) { cb(true); }

getHadUserInteracted() {
	printTodoWarning("getHadUserInteracted");
	true
}

openDatePicker(clip : native) -> () -> void {
	printTodoWarning("openDatePicker");
	nop
}

getClipBoundingClientRect(clip : native) -> [double] {
	[]
}

addChild(parent : native, child : native) -> void {
	printTodoWarning("addChild");
}

addChildAt(parent : native, child : native, id : int) -> void {
	printTodoWarning("addChildAt");
}
removeChild(parent : native, child : native) -> void {
	printTodoWarning("removeChild");
}
removeChildren(parent : native) -> void {
	printTodoWarning("removeChildren");
}
setClipCallstack(clip : native, callstack : native) -> void {
	printTodoWarning("setClipCallstack");
}
setClipX(clip : native, x : double) -> void {
	printTodoWarning("setClipX");
}
setClipY(clip : native, y : double) -> void {
	printTodoWarning("setClipY");
}
setClipScaleX(clip : native, x : double) -> void {
	printTodoWarning("setClipScaleX");
}
setClipScaleY(clip : native, y : double) -> void {
	printTodoWarning("setClipScaleY");
}
setClipRotation(clip : native, x : double) -> void {
	printTodoWarning("setClipRotation");
}
setClipAlpha(clip : native, y : double) -> void {
	printTodoWarning("setClipAlpha");
}
setClipMask(clip : native, mask : native) -> void {
	printTodoWarning("setClipMask");
}
setClipViewBounds(clip : native, minX : double, minY : double, maxX : double, maxY : double) -> void {
	printTodoWarning("setClipViewBounds");
}
setClipResolution(clip : native, resolution : double) -> void {
	printTodoWarning("setClipResolution");
}
setTextDirection(textfield : native, dir : string) -> void {
	printTodoWarning("setTextDirection");
}
setAdvancedText(textfield : native, sharpness : int, antiAliasType : int, gridFitType : int) -> void {
	printTodoWarning("setAdvancedText");
}
setTextFieldWidth(clip : native, width : double) -> void {
	printTodoWarning("setTextFieldWidth");
}
setTextFieldHeight(clip : native, width : double) -> void {
	printTodoWarning("setTextFieldHeight");
}
setAutoAlign(clip : native, autoalign : string) -> void {
	printTodoWarning("setAutoAlign");
}

addFilters(n: native, ns: [native]) -> void {
	printTodoWarning("addFilters");
}

makeBevel(
	angle : double, distance : double, radius : double, spread : double, color1 : int, alpha1 : double,
	color2 : int, alpha2 : double, inner : bool
) -> native {
	printTodoWarning("makeBevel");
	flow(0)
}
makeDropShadow(
	angle : double, distance : double, radius : double, spread : double, color : int,
	alpha : double, inner : bool
) -> native {
	printTodoWarning("makeDropShadow");
	flow(0)
}
makeBlur(radius : double, spread : double) -> native {
	printTodoWarning("makeBlur");
	flow(0)
}
makeBackdropBlur(spread : double) -> native {
	printTodoWarning("makeBackdropBlur");
	flow(0)
}
makeGlow(radius : double, spread : double, color : int, alpha : double, inner : bool) -> native {
	printTodoWarning("makeGlow");
	flow(0)
}
makeShader(vertex : [string], fragment : [string], uniform : [[string]]) -> native {
	printTodoWarning("makeShader");
	flow(0)
}
setScrollRect(clip : native, left : double, top : double, width : double, height : double) -> void {
	printTodoWarning("setScrollRect");
}
setAccessAttributes(clip : native, properties : [[string]]) -> void {
	printTodoWarning("setAccessAttributes");
}
setClipAttribute(clip : native, name : string, value : string) -> void {
	setAccessAttributes(clip, [[name, value]]);
}

setHitboxRadius(radius : double) -> void {
	printTodoWarning("setHitboxRadius");
}

addFinegrainMouseWheelEventListener(clip : native, cb : (dx : double, dy : double) -> void) -> () -> void {
	printTodoWarning("addFinegrainMouseWheelEventListener");
	nop
}

addGestureListener(event : string, cb : (int, double, double, double, double) -> bool) -> () -> void {
	if (!cpp) {
		printTodoWarning("addGestureListener");
	}
	nop
}

addKeyEventListener(clip : native, event : string, cb) -> () -> void {
	printTodoWarning("addKeyEventListener");
	nop
}

addStreamStatusListener(clip : native, cb : (code : string) -> void) -> () -> void {
	printTodoWarning("addStreamStatusListener");
	nop
}

beginFill(graphics : native, color : int, opacity: double) -> void {
	printTodoWarning("beginFill");
}

beginGradientFill(graphics : native, colors : [int], alphas: [double], offsets: [double], matrix : native, type: string) -> void {
	printTodoWarning("beginGradientFill");
}

closeVideo(clip : native) -> void {
	printTodoWarning("closeVideo");
}

currentClip() -> native {
	printTodoWarning("currentClip");
	flow(0);
}

curveTo(graphics : native, x : double, y : double, cx : double, cy : double) -> void {
	printTodoWarning("curveTo");
}

enableResize() -> void {
	printTodoWarning("enableResize");
}

endFill(graphics : native) -> void {
	printTodoWarning("endFill");
}

getBottomScrollV(n: native) -> int {
	printTodoWarning("getBottomScrollV");
	0
}
